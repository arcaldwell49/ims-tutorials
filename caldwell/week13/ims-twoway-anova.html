<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<meta name="progressive" content="true" />
<meta name="allow-skip" content="true" />
<meta name="learnr-version-prerender" content="0.11.5" />

<title>Week 13: Two-Way and Factorial ANOVA</title>

<!-- header-includes START -->
<!-- HEAD_CONTENT -->
<!-- header-includes END -->
<!-- HEAD_CONTENT -->

<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>


<!-- taken from https://github.com/rstudio/rmarkdown/blob/de8a9c38618903627ca509f5401d50a0876079f7/inst/rmd/h/default.html#L293-L343 -->
<!-- tabsets -->
<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>
<!-- end tabsets -->


</head>

<body>
<a class='sr-only sr-only-focusable visually-hidden-focusable' href='#learnr-tutorial-content'>Skip to Tutorial Content</a>



<div class="pageContent band">
<main class="bandContent page">

<article class="topics" id="learnr-tutorial-content">

<div id="section-welcome" class="section level2">
<h2>Welcome</h2>
<div id="section-introduction" class="section level3">
<h3>Introduction</h3>
<p>Welcome to this tutorial on <strong>two-way and factorial
ANOVA</strong>! Last week, you learned how to compare means across
multiple groups using one-way ANOVA. This week, we’re taking it to the
next level by examining how <strong>two or more</strong> categorical
variables simultaneously affect a response variable.</p>
<p>This is where things get really interesting! We’ll explore:</p>
<ul>
<li>How different factors interact with each other</li>
<li>What happens when effects aren’t simply additive</li>
<li>How to properly model and interpret complex relationships</li>
</ul>
<p>Real-world phenomena rarely involve just one factor. For example:</p>
<ul>
<li>Does a new teaching method work equally well for all class
sizes?</li>
<li>Do medication effects differ by dosage <strong>and</strong> delivery
method?</li>
<li>Does the relationship between study time and test performance depend
on prior knowledge?</li>
</ul>
<p>Two-way ANOVA lets us answer these questions!</p>
</div>
<div id="section-learning-objectives" class="section level3">
<h3>Learning Objectives</h3>
<p>By the end of this tutorial, you will be able to:</p>
<ol style="list-style-type: decimal">
<li><strong>Distinguish between main effects and interaction
effects</strong> and explain what each represents in experimental
designs</li>
<li><strong>Understand the principle of marginality</strong> in the
context of choosing between Type II and Type III sums of squares</li>
<li><strong>Explain the three types of sums of squares</strong> (Type I,
II, and III) and when to use each in factorial experiments</li>
<li><strong>Fit factorial ANOVA models</strong> in R always including
the full model with all interactions</li>
<li><strong>Interpret ANOVA results</strong> at different levels (main
effects, interactions) using appropriate sums of squares</li>
<li><strong>Assess model fit using diagnostic plots</strong> from
<code>ggfortify::autoplot()</code></li>
<li><strong>Conduct post-hoc comparisons using
<code>emmeans</code></strong> with different strategies based on
research questions</li>
<li><strong>Use emmeans to examine marginal means for main
effects</strong> even when interactions are present in the model</li>
<li><strong>Visualize and communicate</strong> complex factorial
experimental results</li>
</ol>
<p>Let’s dive in!</p>
</div>
</div>
<div id="section-from-one-way-to-two-way-anova" class="section level2">
<h2>From One-Way to Two-Way ANOVA</h2>
<div id="section-review-one-way-anova" class="section level3">
<h3>Review: One-Way ANOVA</h3>
<p>Last week, you learned that one-way ANOVA tests whether a single
categorical variable (factor) affects a continuous response
variable.</p>
<p><strong>Example:</strong> Does vocabulary score differ by social
class?</p>
<ul>
<li><strong>One factor:</strong> Social class (4 levels: lower, working,
middle, upper)</li>
<li><strong>Response:</strong> Vocabulary score</li>
<li><strong>Question:</strong> Do the group means differ?</li>
</ul>
<p><strong>Model:</strong> <span class="math inline">\(y_{ij} = \mu +
\alpha_i + \epsilon_{ij}\)</span></p>
<p>Where:</p>
<ul>
<li><span class="math inline">\(\mu\)</span> = overall mean</li>
<li><span class="math inline">\(\alpha_i\)</span> = effect of group
<span class="math inline">\(i\)</span></li>
<li><span class="math inline">\(\epsilon_{ij}\)</span> = random
error</li>
</ul>
</div>
<div id="section-the-limitation-of-one-way-anova"
class="section level3">
<h3>The Limitation of One-Way ANOVA</h3>
<p>Real-world problems often involve <strong>multiple factors</strong>
acting simultaneously:</p>
<p><strong>Research scenarios:</strong></p>
<ol style="list-style-type: decimal">
<li><strong>Education:</strong> Does test performance depend on both
teaching method <strong>and</strong> class size?</li>
<li><strong>Medicine:</strong> Do treatment effects vary by both dosage
<strong>and</strong> patient age group?</li>
<li><strong>Business:</strong> Does sales performance depend on both
region <strong>and</strong> product type?</li>
<li><strong>Agriculture:</strong> Does crop yield depend on both
fertilizer type <strong>and</strong> irrigation method?</li>
</ol>
<p><strong>Why not just do separate one-way ANOVAs?</strong></p>
<p>If we analyzed teaching method and class size separately: - We’d miss
potential <strong>interactions</strong> (the effect of teaching method
might differ by class size!) - We’d lose statistical power - We couldn’t
make proper statistical adjustments - We couldn’t answer the most
interesting questions!</p>
</div>
<div id="section-what-is-two-way-anova" class="section level3">
<h3>What is Two-Way ANOVA?</h3>
<p><strong>Two-way ANOVA</strong> analyzes the effects of <strong>two
categorical factors</strong> on a continuous response variable
simultaneously.</p>
<p><strong>Components:</strong></p>
<ol style="list-style-type: decimal">
<li><strong>Factor A Main Effect:</strong> Does factor A affect the
response (averaging over levels of factor B)?</li>
<li><strong>Factor B Main Effect:</strong> Does factor B affect the
response (averaging over levels of factor A)?</li>
<li><strong>Interaction Effect:</strong> Does the effect of factor A
depend on the level of factor B (or vice versa)?</li>
</ol>
<p><strong>Example: Tooth Growth Study</strong></p>
<p>Let’s use a classic dataset studying tooth growth in guinea pigs:</p>
<ul>
<li><strong>Response variable:</strong> Tooth length
(<code>len</code>)</li>
<li><strong>Factor 1:</strong> Supplement type (<code>supp</code>):
Orange Juice (OJ) vs. Ascorbic Acid (VC)</li>
<li><strong>Factor 2:</strong> Dosage (<code>dose</code>): 0.5, 1.0, or
2.0 mg/day</li>
</ul>
<p><strong>Research questions:</strong></p>
<ol style="list-style-type: decimal">
<li>Does supplement type affect tooth growth? (Main effect of
supplement)</li>
<li>Does dosage affect tooth growth? (Main effect of dosage)</li>
<li>Does the effect of supplement depend on dosage? (Interaction)</li>
</ol>
<p>Let’s explore this dataset!</p>
</div>
<div id="section-exploring-the-tooth-growth-data"
class="section level3">
<h3>Exploring the Tooth Growth Data</h3>
<p>First, let’s look at the data structure:</p>
<pre class="r"><code># View the first few rows
head(tooth)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["len"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["supp"],"name":[2],"type":["fct"],"align":["left"]},{"label":["dose"],"name":[3],"type":["fct"],"align":["left"]}],"data":[{"1":"4.2","2":"VC","3":"0.5","_rn_":"1"},{"1":"11.5","2":"VC","3":"0.5","_rn_":"2"},{"1":"7.3","2":"VC","3":"0.5","_rn_":"3"},{"1":"5.8","2":"VC","3":"0.5","_rn_":"4"},{"1":"6.4","2":"VC","3":"0.5","_rn_":"5"},{"1":"10.0","2":"VC","3":"0.5","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># Check the structure
str(tooth)</code></pre>
<pre><code>## &#39;data.frame&#39;:    60 obs. of  3 variables:
##  $ len : num  4.2 11.5 7.3 5.8 6.4 10 11.2 11.2 5.2 7 ...
##  $ supp: Factor w/ 2 levels &quot;OJ&quot;,&quot;VC&quot;: 2 2 2 2 2 2 2 2 2 2 ...
##  $ dose: Factor w/ 3 levels &quot;0.5&quot;,&quot;1&quot;,&quot;2&quot;: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<pre class="r"><code># Sample sizes
tooth |&gt;
  count(supp, dose)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["supp"],"name":[1],"type":["fct"],"align":["left"]},{"label":["dose"],"name":[2],"type":["fct"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"OJ","2":"0.5","3":"10"},{"1":"OJ","2":"1","3":"10"},{"1":"OJ","2":"2","3":"10"},{"1":"VC","2":"0.5","3":"10"},{"1":"VC","2":"1","3":"10"},{"1":"VC","2":"2","3":"10"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We have a <strong>balanced design</strong>: Each combination of
supplement and dose has 10 observations.</p>
<p><strong>Balanced designs</strong> are ideal because:</p>
<ul>
<li>Statistical tests are more robust</li>
<li>Different types of sums of squares give the same results</li>
<li>Interpretation is simpler</li>
</ul>
</div>
<div id="section-visualizing-two-factors" class="section level3">
<h3>Visualizing Two Factors</h3>
<p>With two factors, we need visualizations that show both
simultaneously. Let’s try several approaches:</p>
<p><strong>Approach 1: Boxplots with faceting</strong></p>
<pre class="r"><code>ggplot(tooth, aes(x = dose, y = len, fill = supp)) +
  geom_boxplot() +
  labs(x = &quot;Dosage (mg/day)&quot;, 
       y = &quot;Tooth Length&quot;,
       fill = &quot;Supplement&quot;,
       title = &quot;Tooth Growth by Supplement and Dosage&quot;) +
  theme_minimal()</code></pre>
<p><img src="ims-twoway-anova_files/figure-html/unnamed-chunk-2-1.png" width="576" style="display: block; margin: auto;" /></p>
<p><strong>Approach 2: Interaction plot (mean lines)</strong></p>
<pre class="r"><code># Calculate means for each combination
tooth_means &lt;- tooth |&gt;
  group_by(supp, dose) |&gt;
  summarize(mean_len = mean(len), .groups = &quot;drop&quot;)

# Plot with connecting lines
ggplot(tooth_means, aes(x = dose, y = mean_len, 
                         color = supp, group = supp)) +
  geom_point(size = 3) +
  geom_line(linewidth = 1) +
  labs(x = &quot;Dosage (mg/day)&quot;, 
       y = &quot;Mean Tooth Length&quot;,
       color = &quot;Supplement&quot;,
       title = &quot;Interaction Plot: Tooth Growth&quot;) +
  theme_minimal()</code></pre>
<p><img src="ims-twoway-anova_files/figure-html/unnamed-chunk-3-1.png" width="576" style="display: block; margin: auto;" /></p>
<p><strong>What do you notice?</strong></p>
<ul>
<li>At low dosages (0.5 mg), OJ appears more effective than VC</li>
<li>At high dosages (2.0 mg), the supplements appear similar</li>
<li>The lines are <strong>not parallel</strong> - this suggests an
<strong>interaction</strong>!</li>
</ul>
</div>
<div id="section-understanding-interactions-visually"
class="section level3">
<h3>Understanding Interactions Visually</h3>
<p>An <strong>interaction</strong> occurs when the effect of one factor
<strong>depends on</strong> the level of another factor.</p>
<p><strong>Visual signatures of interaction:</strong></p>
<ul>
<li><strong>Parallel lines</strong> → No interaction (effects are
additive)</li>
<li><strong>Non-parallel lines</strong> → Interaction present (effects
are not simply additive)</li>
<li><strong>Crossing lines</strong> → Strong interaction (effect
reverses!)</li>
</ul>
<p>Let’s see some examples with quiz questions:</p>
<p><img src="ims-twoway-anova_files/figure-html/interaction-examples-1.png" width="576" style="display: block; margin: auto;" /></p>
<div class="panel panel-default tutorial-question-container">
<div data-label="quiz_1" class="tutorial-question panel-body">
<div id="quiz_1-answer_container" class="shiny-html-output"></div>
<div id="quiz_1-message_container" class="shiny-html-output"></div>
<div id="quiz_1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-your-turn-create-interaction-plots"
class="section level3">
<h3>Your Turn: Create Interaction Plots</h3>
<p>Let’s practice creating interaction plots with different data.</p>
<p>We have simulated data on student test scores with two factors:</p>
<ul>
<li><strong>Teaching method:</strong> Lecture vs. Active Learning</li>
<li><strong>Class size:</strong> Small vs. Large</li>
</ul>
<p><strong>Your task:</strong></p>
<ol style="list-style-type: decimal">
<li>Calculate mean test scores for each combination of teaching method
and class size</li>
<li>Create an interaction plot showing how teaching method effects vary
by class size</li>
</ol>
<div class="tutorial-exercise" data-label="interaction_practice"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0" data-pipe="|&gt;">
<pre class="text"><code># Calculate means
learning_means &lt;- learning_data |&gt;
  group_by(___, ___) |&gt;
  summarize(mean_score = mean(___), .groups = &quot;drop&quot;)

# Create interaction plot
ggplot(learning_means, 
       aes(x = ___, y = ___, 
           color = ___, group = ___)) +
  geom_point(size = 3) +
  geom_line(linewidth = 1) +
  labs(x = &quot;Class Size&quot;,
       y = &quot;Mean Test Score&quot;,
       color = &quot;Teaching Method&quot;,
       title = &quot;Interaction Plot: Test Scores&quot;) +
  theme_minimal()</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":false,"caption":"Create Interaction Plot"}</script>
</div>
<div class="tutorial-exercise-support"
data-label="interaction_practice-hint" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0"
data-pipe="|&gt;">
<pre class="text"><code># Hints:
# - Group by both teaching_method and class_size
# - Calculate mean of test_score
# - For the plot:
#   - x-axis: one of the factors (try class_size)
#   - y-axis: mean_score
#   - color AND group: the other factor (teaching_method)</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="interaction_practice-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0"
data-pipe="|&gt;">
<pre class="text"><code># Calculate means
learning_means &lt;- learning_data |&gt;
  group_by(teaching_method, class_size) |&gt;
  summarize(mean_score = mean(test_score), .groups = &quot;drop&quot;)

# Create interaction plot
ggplot(learning_means, 
       aes(x = class_size, y = mean_score, 
           color = teaching_method, group = teaching_method)) +
  geom_point(size = 3) +
  geom_line(linewidth = 1) +
  labs(x = &quot;Class Size&quot;,
       y = &quot;Mean Test Score&quot;,
       color = &quot;Teaching Method&quot;,
       title = &quot;Interaction Plot: Test Scores&quot;) +
  theme_minimal()</code></pre>
</div>
</div>
<div id="section-interpreting-your-plot" class="section level3">
<h3>Interpreting Your Plot</h3>
<p>Look at the interaction plot you just created.</p>
<p><strong>Questions to consider:</strong></p>
<ol style="list-style-type: decimal">
<li>Are the lines parallel or non-parallel?</li>
<li>Does the benefit of Active Learning over Lecture appear to be the
same for both class sizes?</li>
<li>If there’s an interaction, how would you describe it?</li>
</ol>
<p><strong>Hint:</strong> Look at the vertical distance between the
lines. Does it change from Small to Large class size?</p>
</div>
</div>
<div id="section-main-effects-and-interaction-effects"
class="section level2">
<h2>Main Effects and Interaction Effects</h2>
<div id="section-the-two-way-anova-model" class="section level3">
<h3>The Two-Way ANOVA Model</h3>
<p>The statistical model for two-way ANOVA is:</p>
<p><span class="math display">\[y_{ijk} = \mu + \alpha_i + \beta_j +
(\alpha\beta)_{ij} + \epsilon_{ijk}\]</span></p>
<p>Where:</p>
<ul>
<li><span class="math inline">\(y_{ijk}\)</span> = the <span
class="math inline">\(k\)</span>-th observation in group <span
class="math inline">\(i\)</span> of factor A and group <span
class="math inline">\(j\)</span> of factor B</li>
<li><span class="math inline">\(\mu\)</span> = overall (grand) mean</li>
<li><span class="math inline">\(\alpha_i\)</span> = main effect of
factor A at level <span class="math inline">\(i\)</span></li>
<li><span class="math inline">\(\beta_j\)</span> = main effect of factor
B at level <span class="math inline">\(j\)</span></li>
<li><span class="math inline">\((\alpha\beta)_{ij}\)</span> =
interaction effect between factor A (level <span
class="math inline">\(i\)</span>) and factor B (level <span
class="math inline">\(j\)</span>)</li>
<li><span class="math inline">\(\epsilon_{ijk}\)</span> = random error
term</li>
</ul>
</div>
<div id="section-main-effects-explained" class="section level3">
<h3>Main Effects Explained</h3>
<p>A <strong>main effect</strong> is the effect of one factor
<strong>averaged across all levels</strong> of the other factor(s).</p>
<p><strong>Main effect of factor A:</strong> The average difference in
response across levels of A, ignoring (averaging over) factor B.</p>
<p><strong>Main effect of factor B:</strong> The average difference in
response across levels of B, ignoring (averaging over) factor A.</p>
<p><strong>Example with tooth growth:</strong></p>
<ul>
<li><strong>Main effect of supplement:</strong> On average across all
dosages, does OJ differ from VC?</li>
<li><strong>Main effect of dosage:</strong> On average across both
supplements, do different dosages produce different growth?</li>
</ul>
<p><strong>Important:</strong> Main effects can be misleading when
there’s a significant interaction! We’ll explore why soon.</p>
</div>
<div id="section-interaction-effects-explained" class="section level3">
<h3>Interaction Effects Explained</h3>
<p>An <strong>interaction effect</strong> occurs when the effect of one
factor <strong>depends on</strong> the level of another factor.</p>
<p><strong>Equivalent ways to think about it:</strong></p>
<ul>
<li>The effect of factor A is different at different levels of factor
B</li>
<li>The effect of factor B is different at different levels of factor
A</li>
<li>The factors work together in a non-additive way</li>
</ul>
<p><strong>Types of interactions:</strong></p>
<ol style="list-style-type: decimal">
<li><strong>No interaction (parallel lines):</strong> Effects are purely
additive
<ul>
<li>Example: Drug effect is +10 points for everyone, regardless of age
group</li>
</ul></li>
<li><strong>Ordinal interaction (non-parallel but
non-crossing):</strong> Effects differ in magnitude but not direction
<ul>
<li>Example: Drug effect is +15 points for young adults but +8 points
for older adults</li>
</ul></li>
<li><strong>Disordinal interaction (crossing lines):</strong> Effects
differ in direction
<ul>
<li>Example: Drug effect is +10 points for young adults but -5 points
for older adults</li>
</ul></li>
</ol>
<p><strong>Why interactions matter:</strong></p>
<p>When an interaction is present, you should be <em>extremely</em>
careful (if ever) interpreting main effects alone! You should consider
the factors together.</p>
<p><strong>Example:</strong> If we found “no main effect of supplement”
but a significant interaction, it means:</p>
<ul>
<li>On average across all doses, OJ and VC might be similar</li>
<li>BUT at specific doses, one might be much better than the other!</li>
</ul>
</div>
<div id="section-additive-vs.-interactive-models"
class="section level3">
<h3>Additive vs. Interactive Models</h3>
<p>Two-way ANOVA can be fit in two ways:</p>
<p><strong>1. Additive Model (no interaction):</strong></p>
<p><span class="math display">\[y_{ijk} = \mu + \alpha_i + \beta_j +
\epsilon_{ijk}\]</span></p>
<p><strong>In R:</strong>
<code>lm(response ~ factorA + factorB)</code></p>
<p><strong>Interpretation:</strong> The effects of factor A and factor B
are simply added together. Factor A has the same effect regardless of
factor B level.</p>
<p><strong>2. Interactive Model (with interaction):</strong></p>
<p><span class="math display">\[y_{ijk} = \mu + \alpha_i + \beta_j +
(\alpha\beta)_{ij} + \epsilon_{ijk}\]</span></p>
<p><strong>In R:</strong>
<code>lm(response ~ factorA + factorB + factorA:factorB)</code> or
<code>lm(response ~ factorA * factorB)</code></p>
<p><strong>Note:</strong> <code>factorA * factorB</code> is shorthand
for <code>factorA + factorB + factorA:factorB</code></p>
<p><strong>Interpretation:</strong> The effects of factor A and factor B
combine in a non-additive way. The effect of factor A depends on the
level of factor B.</p>
</div>
<div id="section-hypotheses-for-two-way-anova" class="section level3">
<h3>Hypotheses for Two-Way ANOVA</h3>
<p>For the interactive model, we test <strong>three</strong>
hypotheses:</p>
<p><strong>1. Main effect of factor A:</strong></p>
<ul>
<li><span class="math inline">\(H_0\)</span>: All levels of factor A
have the same mean (averaging over factor B)</li>
<li><span class="math inline">\(H_A\)</span>: At least one level of
factor A differs</li>
</ul>
<p><strong>2. Main effect of factor B:</strong></p>
<ul>
<li><span class="math inline">\(H_0\)</span>: All levels of factor B
have the same mean (averaging over factor A)</li>
<li><span class="math inline">\(H_A\)</span>: At least one level of
factor B differs</li>
</ul>
<p><strong>3. Interaction between A and B:</strong></p>
<ul>
<li><span class="math inline">\(H_0\)</span>: The effect of factor A is
the same at all levels of factor B (no interaction)</li>
<li><span class="math inline">\(H_A\)</span>: The effect of factor A
differs across levels of factor B (interaction present)</li>
</ul>
<p><strong>Testing strategy:</strong></p>
<ol style="list-style-type: decimal">
<li>Test the interaction first</li>
<li>If interaction is significant → focus on the interaction, be
cautious with main effects</li>
<li>If interaction is not significant → interpret main effects</li>
</ol>
</div>
<div id="section-fitting-two-way-anova-in-r" class="section level3">
<h3>Fitting Two-Way ANOVA in R</h3>
<p>Let’s fit both models to the tooth growth data:</p>
<p><strong>Model 1: Additive (no interaction)</strong></p>
<pre class="r"><code># Additive model
tooth_add &lt;- lm(len ~ supp + dose, data = tooth)

# ANOVA table
anova(tooth_add)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["int"],"align":["right"]},{"label":["Sum Sq"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Mean Sq"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["F value"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>F)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"205.350","3":"205.35000","4":"14.01664","5":"4.292793e-04","_rn_":"supp"},{"1":"2","2":"2426.434","3":"1213.21717","4":"82.81093","5":"1.871163e-17","_rn_":"dose"},{"1":"56","2":"820.425","3":"14.65045","4":"NA","5":"NA","_rn_":"Residuals"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><strong>Model 2: Interactive (with interaction)</strong></p>
<pre class="r"><code># Interactive model (two equivalent ways)
tooth_int &lt;- lm(len ~ supp + dose + supp:dose, data = tooth)
# OR equivalently:
tooth_int &lt;- lm(len ~ supp * dose, data = tooth)

# ANOVA table
anova(tooth_int)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["int"],"align":["right"]},{"label":["Sum Sq"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Mean Sq"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["F value"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>F)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"205.350","3":"205.35000","4":"15.571979","5":"2.311828e-04","_rn_":"supp"},{"1":"2","2":"2426.434","3":"1213.21717","4":"91.999965","5":"4.046291e-18","_rn_":"dose"},{"1":"2","2":"108.319","3":"54.15950","4":"4.106991","5":"2.186027e-02","_rn_":"supp:dose"},{"1":"54","2":"712.106","3":"13.18715","4":"NA","5":"NA","_rn_":"Residuals"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><strong>Comparing the outputs:</strong></p>
<p>Notice the interaction model has an extra row:
<code>supp:dose</code>. This tests whether the interaction is
significant.</p>
<p><strong>Reading the ANOVA table:</strong></p>
<ul>
<li><strong>supp:</strong> F-statistic and p-value for main effect of
supplement</li>
<li><strong>dose:</strong> F-statistic and p-value for main effect of
dose</li>
<li><strong>supp:dose:</strong> F-statistic and p-value for the
interaction</li>
<li>Each row tests whether that term significantly improves the
model</li>
</ul>
</div>
<div id="section-quiz-interpreting-anova-output" class="section level3">
<h3>Quiz: Interpreting ANOVA Output</h3>
<p>Look at the ANOVA table for the interactive model above.</p>
<div class="panel panel-default tutorial-question-container">
<div data-label="quiz_2" class="tutorial-question panel-body">
<div id="quiz_2-answer_container" class="shiny-html-output"></div>
<div id="quiz_2-message_container" class="shiny-html-output"></div>
<div id="quiz_2-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-your-turn-fit-a-two-way-anova" class="section level3">
<h3>Your Turn: Fit a Two-Way ANOVA</h3>
<p>Now it’s your turn! Use the learning data (teaching method and class
size).</p>
<p><strong>Your task:</strong></p>
<ol style="list-style-type: decimal">
<li>Fit an interactive two-way ANOVA model predicting test_score from
teaching_method and class_size</li>
<li>Use the <code>*</code> notation to include both main effects and the
interaction</li>
<li>View the ANOVA table using <code>anova()</code></li>
<li>Determine which effects are significant at α = 0.05</li>
</ol>
<div class="tutorial-exercise" data-label="twoway_practice"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0" data-pipe="|&gt;">
<pre class="text"><code># Fit interactive model
learning_model &lt;- lm(___ ~ ___ * ___, data = learning_data)

# View ANOVA table
anova(___)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":false,"caption":"Fit Two-Way ANOVA"}</script>
</div>
<div class="tutorial-exercise-support" data-label="twoway_practice-hint"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0" data-pipe="|&gt;">
<pre class="text"><code># Hints:
# - Response variable: test_score
# - Factor 1: teaching_method
# - Factor 2: class_size
# - Use * to include main effects and interaction
# - Call anova() on the fitted model</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="twoway_practice-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0"
data-pipe="|&gt;">
<pre class="text"><code># Fit interactive model
learning_model &lt;- lm(test_score ~ teaching_method * class_size, 
                     data = learning_data)

# View ANOVA table
anova(learning_model)

# For a cleaner table:
anova(learning_model) |&gt; tidy()</code></pre>
</div>
</div>
<div id="section-interpretation-practice" class="section level3">
<h3>Interpretation Practice</h3>
<p>After fitting your model, answer these questions:</p>
<ol style="list-style-type: decimal">
<li><strong>Is the interaction significant?</strong> (Look at the
p-value for teaching_method:class_size)</li>
<li><strong>Are the main effects significant?</strong></li>
<li><strong>What should you focus on in interpretation?</strong>
<ul>
<li>If interaction is significant → focus on the interaction</li>
<li>If interaction is not significant → focus on main effects</li>
</ul></li>
</ol>
<p>Take a moment to write out your interpretation before moving on!</p>
</div>
</div>
<div id="section-the-principle-of-marginality-and-sums-of-squares"
class="section level2">
<h2>The Principle of Marginality and Sums of Squares</h2>
<div id="section-the-hierarchical-principle-in-factorial-designs"
class="section level3">
<h3>The Hierarchical Principle in Factorial Designs</h3>
<p>In factorial experimental designs, we always fit the <strong>full
model</strong> including all interactions. This is a fundamental
principle called the <strong>hierarchical principle</strong> or
<strong>principle of marginality</strong>:</p>
<p><strong>If you include an interaction term in your model, you MUST
include all lower-order terms (main effects) that make up the
interaction.</strong></p>
<p><strong>In other words:</strong></p>
<ul>
<li>If you fit A×B, you must include A and B</li>
<li>If you fit A×B×C, you must include A, B, C, A×B, A×C, and B×C</li>
</ul>
<p><strong>This is not optional!</strong> It’s a mathematical and
statistical necessity for proper model specification.</p>
</div>
<div id="section-why-we-always-fit-the-full-model"
class="section level3">
<h3>Why We Always Fit the Full Model</h3>
<p>In experimental design, we take a different approach than exploratory
model building:</p>
<p><strong>Experimental Design Perspective:</strong></p>
<ol style="list-style-type: decimal">
<li><strong>Design determines the model:</strong> The factorial design
you chose determines the model you fit</li>
<li><strong>Test all effects:</strong> We want to test all main effects
and interactions</li>
<li><strong>Keep the full model:</strong> We don’t remove terms based on
significance</li>
<li><strong>Different questions, different tests:</strong> We adjust our
analysis strategy based on results, not the model itself</li>
</ol>
<p><strong>Contrast with model building:</strong></p>
<ul>
<li>Model building: Start complex, remove non-significant terms</li>
<li>Experimental design: Fit the designed model, interpret
appropriately</li>
</ul>
<p><strong>Example:</strong></p>
<p>You designed an experiment with factors A and B. You <em>always</em>
fit:</p>
<pre class="r"><code># Full factorial model - this is your experimental design
model &lt;- lm(response ~ A * B)  # Includes A, B, and A×B</code></pre>
<p>You do NOT remove terms even if they’re non-significant. Instead, you
adjust your <strong>interpretation</strong> and <strong>post-hoc testing
strategy</strong>.</p>
</div>
<div
id="section-the-critical-question-type-ii-vs.-type-iii-sums-of-squares"
class="section level3">
<h3>The Critical Question: Type II vs. Type III Sums of Squares</h3>
<p>While we always keep the full model with interactions, a critical
question arises: <strong>How should we test main effects?</strong></p>
<p>This is where the principle of marginality becomes crucial for
choosing between <strong>Type II</strong> and <strong>Type III</strong>
sums of squares.</p>
<p><strong>The fundamental issue:</strong> When testing a main effect in
the presence of an interaction term in the model, what hypothesis are we
actually testing?</p>
</div>
<div id="section-type-ii-sums-of-squares-respecting-marginality"
class="section level3">
<h3>Type II Sums of Squares: Respecting Marginality</h3>
<p><strong>Type II approach:</strong></p>
<ul>
<li>Tests main effect of A controlling for B (but NOT controlling for
A×B)</li>
<li>Tests main effect of B controlling for A (but NOT controlling for
A×B)</li>
<li><strong>Respects the principle of marginality</strong></li>
<li>Assumes that if the interaction is negligible, we shouldn’t adjust
for it when testing main effects</li>
</ul>
<p><strong>Why it respects marginality:</strong></p>
<p>Type II compares these models:</p>
<ul>
<li>For testing A: <code>lm(~ B)</code>
vs. <code>lm(~ A + B)</code></li>
<li>For testing B: <code>lm(~ A)</code>
vs. <code>lm(~ A + B)</code></li>
<li>For testing A×B: <code>lm(~ A + B)</code>
vs. <code>lm(~ A + B + A:B)</code></li>
</ul>
<p>Notice that we never test a main effect in the presence of its
interaction. We only include the interaction when testing the
interaction itself. This follows the hierarchical principle.</p>
<p><strong>Model comparison notation:</strong></p>
<ul>
<li>Main effect A: SS(A | B) - “A given B, not given A×B”</li>
<li>Main effect B: SS(B | A) - “B given A, not given A×B”<br />
</li>
<li>Interaction: SS(AB | A, B) - “A×B given both main effects”</li>
</ul>
</div>
<div id="section-type-iii-sums-of-squares-violating-marginality"
class="section level3">
<h3>Type III Sums of Squares: Violating Marginality</h3>
<p><strong>Type III approach:</strong></p>
<ul>
<li>Tests main effect of A controlling for B AND A×B</li>
<li>Tests main effect of B controlling for A AND A×B</li>
<li><strong>Violates the principle of marginality</strong></li>
<li>Tests “marginal” effects (averaged across the other factor) even
when an interaction is present</li>
</ul>
<p><strong>Why it violates marginality:</strong></p>
<p>Type III compares these models:</p>
<ul>
<li>For testing A: <code>lm(~ B + A:B)</code>
vs. <code>lm(~ A + B + A:B)</code></li>
<li>For testing B: <code>lm(~ A + A:B)</code>
vs. <code>lm(~ A + B + A:B)</code></li>
</ul>
<p>These model comparisons are <strong>not hierarchical</strong>! The
reduced model includes the interaction A×B but is missing the main
effect being tested. This violates the principle that you cannot have an
interaction in a model without its corresponding main effects.</p>
<p><strong>Model comparison notation:</strong></p>
<ul>
<li>Main effect A: SS(A | B, AB) - “A given B AND A×B” (Warning!)</li>
<li>Main effect B: SS(B | A, AB) - “B given A AND A×B” (Warning!)</li>
<li>Interaction: SS(AB | A, B) - “A×B given both main effects”</li>
</ul>
</div>
<div id="section-the-controversy-criticisms-of-type-iii"
class="section level3">
<h3>The Controversy: Criticisms of Type III</h3>
<p>Many prominent statisticians have strongly criticized Type III sums
of squares precisely because they violate marginality:</p>
<p><strong>John Nelder and Peter Lane (1995):</strong></p>
<blockquote>
<p>“Neglect of marginality relations leads to the introduction of
hypotheses that, although well defined mathematically, are, we assert,
of no inferential interest.”</p>
</blockquote>
<p><strong>Stephen Senn (1998, 2000):</strong></p>
<p>Senn argued that Type III leads to paradoxes. For example, in
multi-center trials:</p>
<blockquote>
<p>“Given two centres, a large and a small centre, unless the small
centre is at least one-third the size of the large centre, the type III
treatment estimate will have a larger variance than that based on the
large centre alone. Thus more information is worse than less.”</p>
</blockquote>
<p><strong>Øyvind Langsrud (2003):</strong></p>
<p>In his influential paper “ANOVA for unbalanced data: Use Type II
instead of Type III sums of squares,” Langsrud argues:</p>
<blockquote>
<p>“Type III analysis is founded on unrealistic models—models with
interactions, but without all corresponding main effects.”</p>
</blockquote>
<p><strong>The core argument:</strong></p>
<p>If an interaction A×B is in the model, it makes no sense to ask “what
is the main effect of A, adjusting for the interaction?” The interaction
already tells us that the effect of A <strong>depends on</strong> B. The
concept of a single “main effect” adjusted for an interaction that
involves that very effect is philosophically questionable.</p>
</div>
<div id="section-when-type-iii-might-still-be-used"
class="section level3">
<h3>When Type III Might Still Be Used</h3>
<p>Despite these criticisms, Type III is common in some fields,
particularly because:</p>
<ol style="list-style-type: decimal">
<li><strong>SAS and SPSS default:</strong> These packages use Type III
by default, so it’s familiar to many researchers</li>
<li><strong>Marginal means interpretation:</strong> Some argue that Type
III tests whether the <strong>marginal</strong> means (averaged across
the other factor) differ, which can be a valid question</li>
<li><strong>Consistency:</strong> Results are the same regardless of
factor coding (with proper contrasts)</li>
</ol>
<p><strong>However:</strong> Just because Type III tests are “valid”
mathematically doesn’t mean they test hypotheses of interest. When an
interaction is present, marginal main effects are often not
meaningful.</p>
</div>
<div id="section-our-recommendation-use-type-ii-as-the-default"
class="section level3">
<h3>Our Recommendation: Use Type II as the Default</h3>
<p><strong>For this course, we strongly recommend Type II sums of
squares as your default approach:</strong></p>
<p><strong>Reasons to prefer Type II:</strong></p>
<ol style="list-style-type: decimal">
<li><strong>Respects the principle of marginality</strong> - tests are
theoretically sound</li>
<li><strong>More powerful</strong> when interaction is absent or
negligible</li>
<li><strong>Philosophically coherent</strong> - doesn’t test odd
hypotheses</li>
<li><strong>Endorsed by prominent statisticians</strong> (Nelder, Senn,
Langsrud, Fox)</li>
<li><strong>Default in the R community</strong> via the <code>car</code>
package</li>
<li><strong>Natural interpretation</strong> - tests main effects
controlling for other main effects</li>
</ol>
<p><strong>How Type II works in practice:</strong></p>
<p>When the interaction is not significant:</p>
<ul>
<li>Type II gives powerful tests of main effects</li>
<li>Main effects are interpretable (factors act independently)</li>
<li>This is exactly what we want!</li>
</ul>
<p>When the interaction IS significant:</p>
<ul>
<li>Type II tells us the main effects aren’t significant after
controlling for other main effects</li>
<li>But this doesn’t matter. We should focus on simple effects
anyway!</li>
<li>The fact that Type II “assumes no interaction” just means it gives
us less information about marginal means (which we don’t care about with
a significant interaction)</li>
</ul>
</div>
<div id="section-when-you-might-use-type-iii" class="section level3">
<h3>When You Might Use Type III</h3>
<p><strong>Limited scenarios where Type III could be
appropriate:</strong></p>
<ol style="list-style-type: decimal">
<li><strong>Replicating published analyses</strong> that used Type III
(for comparison)</li>
<li><strong>Regulatory requirements</strong> (some agencies require Type
III)</li>
<li><strong>Theoretical interest in marginal means</strong> even with
interactions present</li>
<li><strong>Very large sample sizes</strong> where power isn’t a
concern</li>
</ol>
<p><strong>But even in these cases:</strong> Be aware you’re testing
hypotheses that violate marginality and may not be of scientific
interest.</p>
</div>
<div id="section-practical-implications-what-changes"
class="section level3">
<h3>Practical Implications: What Changes?</h3>
<p><strong>Important:</strong> The difference between Type II and Type
III is <strong>only</strong> in testing main effects. The interaction
test is identical!</p>
<p><strong>Type II strategy:</strong></p>
<ol style="list-style-type: decimal">
<li>Fit full model: <code>model &lt;- lm(response ~ A * B)</code></li>
<li>Get Type II tests: <code>car::Anova(model, type = 2)</code></li>
<li>If interaction is significant → focus on simple effects (emmeans
with <code>|</code>)</li>
<li>If interaction is not significant → interpret main effects (they’re
powerful and meaningful!)</li>
</ol>
<p><strong>Type III strategy:</strong></p>
<ol style="list-style-type: decimal">
<li>Fit full model:
<code>model &lt;- lm(response ~ A * B, contrasts=list(A=contr.sum, B=contr.sum))</code></li>
<li>Get Type III tests: <code>car::Anova(model, type = 3)</code></li>
<li>If interaction is significant → focus on simple effects (but you
also tested marginal main effects)</li>
<li>If interaction is not significant → interpret main effects (less
powerful than Type II)</li>
</ol>
</div>
<div id="section-understanding-the-difference-with-an-example"
class="section level3">
<h3>Understanding the Difference with an Example</h3>
<p>Let’s see how Type II and Type III differ with our tooth growth
data:</p>
<pre class="r"><code># Fit the full model
tooth_model &lt;- lm(len ~ supp * dose, data = tooth)

# Type II: Respects marginality
cat(&quot;=== Type II SS (Recommended Default) ===\n&quot;)</code></pre>
<pre><code>## === Type II SS (Recommended Default) ===</code></pre>
<pre class="r"><code>car::Anova(tooth_model, type = &quot;II&quot;)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Sum Sq"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Df"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["F value"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Pr(>F)"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"205.350","2":"1","3":"15.571979","4":"2.311828e-04","_rn_":"supp"},{"1":"2426.434","2":"2","3":"91.999965","4":"4.046291e-18","_rn_":"dose"},{"1":"108.319","2":"2","3":"4.106991","4":"2.186027e-02","_rn_":"supp:dose"},{"1":"712.106","2":"54","3":"NA","4":"NA","_rn_":"Residuals"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># Type III: Violates marginality  
cat(&quot;\n=== Type III SS (For Comparison) ===\n&quot;)</code></pre>
<pre><code>## 
## === Type III SS (For Comparison) ===</code></pre>
<pre class="r"><code>options(contrasts = c(&quot;contr.sum&quot;, &quot;contr.poly&quot;))
tooth_model_t3 &lt;- lm(len ~ supp * dose, data = tooth)
car::Anova(tooth_model_t3, type = &quot;III&quot;)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Sum Sq"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Df"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["F value"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Pr(>F)"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"21236.491","2":"1","3":"1610.392970","4":"6.939976e-42","_rn_":"(Intercept)"},{"1":"205.350","2":"1","3":"15.571979","4":"2.311828e-04","_rn_":"supp"},{"1":"2426.434","2":"2","3":"91.999965","4":"4.046291e-18","_rn_":"dose"},{"1":"108.319","2":"2","3":"4.106991","4":"2.186027e-02","_rn_":"supp:dose"},{"1":"712.106","2":"54","3":"NA","4":"NA","_rn_":"Residuals"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><strong>Notice:</strong></p>
<ul>
<li>The <strong>interaction</strong> test is identical (p = 0.0218 in
both)</li>
<li>The <strong>main effects</strong> can differ slightly (but don’t in
this case due to balance)</li>
<li>With balanced data like this, they’re similar, but with unbalanced
data, differences can be substantial</li>
</ul>
<p><strong>Interpretation with Type II (recommended):</strong></p>
<ul>
<li>Since the interaction is significant (p = 0.02), we focus on simple
effects</li>
<li>The Type II main effects test whether there are main effects
assuming no interaction</li>
<li>But we found an interaction, so main effects alone aren’t the whole
story</li>
<li>We should use emmeans to examine simple effects (supplement within
each dose)</li>
</ul>
<p><strong>Interpretation with Type III (if you used it):</strong></p>
<ul>
<li>The interaction is significant (p = 0.02), so we focus on simple
effects</li>
<li>The Type III main effects test marginal means in the presence of the
interaction</li>
<li>These marginal tests are mathematically valid but violate
marginality</li>
<li>We should use emmeans to examine simple effects regardless</li>
</ul>
</div>
<div id="section-quiz-understanding-marginality-and-ss-types"
class="section level3">
<h3>Quiz: Understanding Marginality and SS Types</h3>
<div class="panel panel-default tutorial-question-container">
<div data-label="quiz_marginality" class="tutorial-question panel-body">
<div id="quiz_marginality-answer_container" class="shiny-html-output"></div>
<div id="quiz_marginality-message_container" class="shiny-html-output"></div>
<div id="quiz_marginality-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-recommendation-summary" class="section level3">
<h3>Recommendation Summary</h3>
<p><strong>Our recommended workflow for factorial ANOVA:</strong></p>
<pre class="r"><code># Step 1: Fit the full model (based on your experimental design)
full_model &lt;- lm(response ~ factorA * factorB, data = mydata)

# Step 2: Get Type II tests (respects marginality)
library(car)
Anova(full_model, type = 2)

# Step 3: Check diagnostics
library(ggfortify)
autoplot(full_model, which = 1:4, ncol = 2)

# Step 4: Post-hoc testing based on results
# - Interaction significant → emmeans with simple effects (pairwise ~ A | B)
# - Interaction not significant → emmeans with marginal means (~ A and ~ B separately)</code></pre>
<p><strong>Why we prefer Type II:</strong></p>
<ul>
<li>Respects the principle of marginality (theoretically sound)</li>
<li>More powerful when interactions are negligible (practical
advantage)</li>
<li>Endorsed by the R statistical community and leading
statisticians</li>
<li>Natural interpretation aligns with experimental design
principles</li>
</ul>
<p><strong>When to consider Type III:</strong></p>
<ul>
<li>Replicating published work that used Type III</li>
<li>Required by regulatory bodies</li>
<li>Direct interest in marginal means (but be aware of the marginality
violation)</li>
</ul>
</div>
<div id="section-the-bottom-line" class="section level3">
<h3>The Bottom Line</h3>
<p><strong>Remember:</strong> The model stays the same (full factorial)
regardless of which SS type you use. The difference is only in
<strong>which hypotheses you test</strong> for the main effects:</p>
<ul>
<li><strong>Type II:</strong> Tests main effects assuming hierarchical
relationships (respects marginality)</li>
<li><strong>Type III:</strong> Tests marginal main effects even in
presence of interactions (violates marginality)</li>
</ul>
<p><strong>For most experimental designs, Type II is often the better
choice because it:</strong> 1. Follows sound statistical principles 2.
Provides more powerful tests when appropriate 3. Doesn’t test hypotheses
that violate the structure of the model</p>
<p>The key is understanding what hypothesis each type tests, and
choosing the one that matches your research question!</p>
</div>
</div>
<div id="section-model-diagnostics" class="section level2">
<h2>Model Diagnostics</h2>
<div id="section-why-check-model-assumptions" class="section level3">
<h3>Why Check Model Assumptions?</h3>
<p>Before trusting your ANOVA results, you must verify that the model
assumptions are reasonably satisfied.</p>
<p><strong>The assumptions</strong> (same as one-way ANOVA, but
extended):</p>
<ol style="list-style-type: decimal">
<li><strong>Independence:</strong> Observations are independent within
and across groups</li>
<li><strong>Normality:</strong> Residuals are approximately normally
distributed</li>
<li><strong>Equal variance (homoscedasticity):</strong> Variance is
constant across all factor combinations</li>
<li><strong>No influential outliers:</strong> No observations are unduly
influencing the results</li>
</ol>
<p><strong>Why this matters:</strong></p>
<ul>
<li>Violations can lead to incorrect p-values</li>
<li>Violations can make confidence intervals unreliable</li>
<li>Some violations are more serious than others</li>
<li>Knowing which assumptions are violated helps you choose fixes</li>
</ul>
</div>
<div id="section-using-ggfortifyautoplot" class="section level3">
<h3>Using ggfortify::autoplot()</h3>
<p>The <code>ggfortify</code> package provides an easy way to create
diagnostic plots for linear models (including ANOVA).</p>
<p><strong>Basic syntax:</strong></p>
<pre class="r"><code>autoplot(model)</code></pre>
<p>This produces <strong>four diagnostic plots</strong> in a 2×2
grid:</p>
<ol style="list-style-type: decimal">
<li><strong>Residuals vs. Fitted</strong> (checks linearity and equal
variance)</li>
<li><strong>Normal Q-Q</strong> (checks normality of residuals)</li>
<li><strong>Scale-Location</strong> (checks equal variance)</li>
<li><strong>Residuals vs. Leverage</strong> (identifies influential
points)</li>
</ol>
<p>Let’s examine each plot for our tooth growth model:</p>
<pre class="r"><code># Create diagnostic plots
autoplot(tooth_int, which = 1:4, ncol = 2, nrow = 2)</code></pre>
<p><img src="ims-twoway-anova_files/figure-html/unnamed-chunk-8-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<div id="section-plot-1-residuals-vs.-fitted" class="section level3">
<h3>Plot 1: Residuals vs. Fitted</h3>
<p><strong>What it shows:</strong> Residuals (vertical axis) plotted
against fitted values (horizontal axis)</p>
<p><strong>What to look for:</strong></p>
<ul>
<li><strong>Good:</strong> Points randomly scattered around horizontal
line at 0</li>
<li><strong>Good:</strong> No clear pattern or trend</li>
<li><strong>Good:</strong> Roughly equal spread across the range</li>
</ul>
<p><strong>Red flags:</strong></p>
<ul>
<li>Curved pattern → Nonlinearity (may need transformation)</li>
<li>Funnel shape → Heteroscedasticity (unequal variance)</li>
<li>Clusters or gaps → Missing factor or interaction</li>
</ul>
<p><strong>For our tooth growth model:</strong></p>
<p>The points are fairly randomly scattered with no obvious pattern.
There might be slight differences in spread, but nothing alarming.</p>
</div>
<div id="section-plot-2-normal-q-q-plot" class="section level3">
<h3>Plot 2: Normal Q-Q Plot</h3>
<p><strong>What it shows:</strong> Quantile-quantile plot comparing
residual distribution to theoretical normal distribution</p>
<p><strong>What to look for:</strong></p>
<ul>
<li><strong>Good:</strong> Points fall close to the diagonal line</li>
<li><strong>Good:</strong> Slight deviations at extremes are okay</li>
</ul>
<p><strong>Red flags:</strong></p>
<ul>
<li>Points deviate substantially from line → Non-normality</li>
<li>S-shaped curve → Skewed distribution</li>
<li>Points far from line at both ends → Heavy tails (outliers)</li>
</ul>
<p><strong>For our tooth growth model:</strong></p>
<p>Points follow the line quite well with minor deviations at the ends.
This is acceptable, especially with moderate sample sizes.</p>
<p><strong>Remember:</strong> ANOVA is fairly robust to minor violations
of normality, especially with: - Balanced designs - Moderate to large
sample sizes (n &gt; 30 per group)</p>
</div>
<div id="section-plot-3-scale-location-spread-location"
class="section level3">
<h3>Plot 3: Scale-Location (Spread-Location)</h3>
<p><strong>What it shows:</strong> Square root of standardized residuals
vs. fitted values</p>
<p><strong>What to look for:</strong></p>
<ul>
<li><strong>Good:</strong> Horizontal red line (roughly flat)</li>
<li><strong>Good:</strong> Points equally spread across range</li>
</ul>
<p><strong>Red flags:</strong></p>
<ul>
<li>Rising or falling red line → Heteroscedasticity</li>
<li>Funnel or cone shape → Variance increases with fitted values</li>
</ul>
<p><strong>Why standardized residuals?</strong></p>
<p>Standardization accounts for the fact that residuals naturally have
different variances at different fitted values. Standardized residuals
should have constant variance.</p>
<p><strong>For our tooth growth model:</strong></p>
<p>The red line is relatively flat and the spread is fairly consistent.
No serious heteroscedasticity detected.</p>
</div>
<div id="section-plot-4-residuals-vs.-leverage" class="section level3">
<h3>Plot 4: Residuals vs. Leverage</h3>
<p><strong>What it shows:</strong> Identifies influential observations
using Cook’s distance</p>
<p><strong>What to look for:</strong></p>
<ul>
<li><strong>Good:</strong> Points clustered together with low leverage
and low residuals</li>
<li><strong>Check:</strong> Points with high leverage (far right) or
large residuals (far from 0)</li>
</ul>
<p><strong>Key concepts:</strong></p>
<ul>
<li><strong>Leverage:</strong> How far an observation’s predictor values
are from average</li>
<li><strong>Cook’s Distance:</strong> Measures how much the model
changes if that point is removed</li>
<li><strong>Influential points:</strong> High leverage AND large
residual (outside dashed lines if shown)</li>
</ul>
<p><strong>For our tooth growth model:</strong></p>
<p>No points show particularly high Cook’s distance. All observations
appear reasonable.</p>
<p><strong>What if you find influential points?</strong></p>
<ol style="list-style-type: decimal">
<li>Check for data entry errors</li>
<li>Investigate whether the point is valid</li>
<li>Run analysis with and without the point</li>
<li>Report sensitivity analysis if results change substantially</li>
</ol>
</div>
<div id="section-customizing-diagnostic-plots" class="section level3">
<h3>Customizing Diagnostic Plots</h3>
<p>You can select specific plots using the <code>which</code>
argument:</p>
<pre class="r"><code># Show only Q-Q plot and Residuals vs Fitted
autoplot(tooth_int, which = c(1, 2), ncol = 2)</code></pre>
<p><img src="ims-twoway-anova_files/figure-html/unnamed-chunk-9-1.png" width="576" style="display: block; margin: auto;" /></p>
<pre class="r"><code># Show only Scale-Location
autoplot(tooth_int, which = 3)</code></pre>
<p><img src="ims-twoway-anova_files/figure-html/unnamed-chunk-9-2.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<div id="section-your-turn-model-diagnostics" class="section level3">
<h3>Your Turn: Model Diagnostics</h3>
<p>Now check the diagnostics for the learning data model you fit
earlier.</p>
<p><strong>Your task:</strong></p>
<ol style="list-style-type: decimal">
<li>Fit the interactive model (if you haven’t already)</li>
<li>Create diagnostic plots using <code>autoplot()</code></li>
<li>Assess each assumption:
<ul>
<li>Are residuals randomly scattered? (Plot 1)</li>
<li>Do points follow the Q-Q line? (Plot 2)</li>
<li>Is variance roughly constant? (Plot 3)</li>
<li>Are there influential points? (Plot 4)</li>
</ul></li>
</ol>
<div class="tutorial-exercise" data-label="diagnostics_practice"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0" data-pipe="|&gt;">
<pre class="text"><code># Fit the model
learning_model &lt;- lm(test_score ~ teaching_method * class_size, 
                     data = learning_data)

# Create diagnostic plots
autoplot(___, which = ___, ncol = 2, nrow = 2)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":false,"caption":"Model Diagnostics"}</script>
</div>
<div class="tutorial-exercise-support"
data-label="diagnostics_practice-hint" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0"
data-pipe="|&gt;">
<pre class="text"><code># Hints:
# - Use autoplot() on learning_model
# - which = 1:4 shows all four plots
# - ncol = 2, nrow = 2 arranges them in a 2×2 grid</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="diagnostics_practice-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0"
data-pipe="|&gt;">
<pre class="text"><code># Fit the model
learning_model &lt;- lm(test_score ~ teaching_method * class_size, 
                     data = learning_data)

# Create diagnostic plots
autoplot(learning_model, which = 1:4, ncol = 2, nrow = 2)

# Alternative: show just normality and equal variance
autoplot(learning_model, which = c(2, 3), ncol = 2)</code></pre>
</div>
</div>
<div id="section-interpreting-your-diagnostics" class="section level3">
<h3>Interpreting Your Diagnostics</h3>
<p>After examining your plots, answer these questions:</p>
<ol style="list-style-type: decimal">
<li><strong>Normality:</strong> Do the residuals appear approximately
normal?</li>
<li><strong>Equal variance:</strong> Is the variance roughly constant
across groups?</li>
<li><strong>Outliers:</strong> Are there any concerning influential
points?</li>
<li><strong>Overall:</strong> Are the assumptions reasonably
satisfied?</li>
</ol>
<p><strong>Decision rule:</strong></p>
<ul>
<li>Minor violations with large sample sizes → Proceed with caution</li>
<li>Major violations → Consider transformations or non-parametric
alternatives</li>
<li>Influential outliers → Investigate and potentially remove (with
justification)</li>
</ul>
<p>Take notes on what you observe before moving on!</p>
</div>
<div id="section-what-to-do-about-violations" class="section level3">
<h3>What to Do About Violations</h3>
<p><strong>If normality is violated:</strong></p>
<ul>
<li>Check for outliers (may need removal or robust methods)</li>
<li>Try transformations (log, square root, Box-Cox)</li>
<li>Use non-parametric alternatives (Kruskal-Wallis, Scheirer-Ray-Hare
test)</li>
<li>If sample sizes are large, proceed anyway (CLT helps)</li>
</ul>
<p><strong>If equal variance is violated:</strong></p>
<ul>
<li>Try transformations to stabilize variance</li>
<li>Use weighted least squares</li>
<li>Use robust standard errors</li>
</ul>
<p><strong>If influential outliers exist:</strong></p>
<ul>
<li>Verify data accuracy</li>
<li>Run analysis with and without outliers</li>
<li>Report sensitivity analysis</li>
<li>Consider alternative, robust methods</li>
</ul>
<p><strong>General advice:</strong></p>
<ul>
<li>Perfect assumptions are never met in real data</li>
<li>Focus on substantial violations, not minor deviations</li>
<li>ANOVA is fairly robust with balanced designs and moderate sample
sizes</li>
<li>When in doubt, consult a statistician!</li>
</ul>
</div>
</div>
<div id="section-post-hoc-comparisons-with-emmeans"
class="section level2">
<h2>Post-Hoc Comparisons with emmeans</h2>
<div id="section-your-model-stays-the-same-your-strategy-changes"
class="section level3">
<h3>Your Model Stays the Same, Your Strategy Changes</h3>
<p>After fitting a factorial ANOVA, you <strong>always keep the full
model</strong> with all interactions. What changes is your
<strong>post-hoc testing strategy</strong> based on which effects are
significant.</p>
<p><strong>Important principle:</strong> We don’t remove terms from the
model. Instead, we adjust how we use <code>emmeans</code> to answer our
research questions.</p>
</div>
<div id="section-three-post-hoc-strategies" class="section level3">
<h3>Three Post-Hoc Strategies</h3>
<p>Your analysis strategy depends on your research questions and what
you found:</p>
<p><strong>Strategy 1: Focus on Simple Effects (when interaction is
significant)</strong></p>
<ul>
<li><strong>When:</strong> Interaction p-value is small (typically p
&lt; 0.05)</li>
<li><strong>Why:</strong> The effect of one factor depends on the level
of the other</li>
<li><strong>How:</strong> Use <code>emmeans</code> to compare levels of
one factor within each level of the other</li>
<li><strong>Example:</strong> Compare supplements within each dose
level</li>
</ul>
<p><strong>Strategy 2: Examine Marginal Main Effects (when interaction
is not significant)</strong></p>
<ul>
<li><strong>When:</strong> Interaction p-value is large (typically p
&gt; 0.05)</li>
<li><strong>Why:</strong> Factors act independently; marginal averages
are meaningful</li>
<li><strong>How:</strong> Use <code>emmeans</code> to get marginal means
(averaged across the other factor)</li>
<li><strong>Example:</strong> Compare supplements averaged across all
doses</li>
</ul>
<p><strong>Strategy 3: Examine Both (when interaction is borderline or
you have theoretical reasons)</strong></p>
<ul>
<li><strong>When:</strong> Interaction is marginally significant or you
want to fully understand the data</li>
<li><strong>Why:</strong> Get a complete picture of both the interaction
and marginal effects</li>
<li><strong>How:</strong> Do both simple effects AND marginal means
analyses</li>
<li><strong>Report:</strong> Be clear about what each analysis
shows</li>
</ul>
<p><strong>Key point:</strong> The full model (<code>~ A * B</code>) is
always fit. We’re just asking different questions of it!</p>
</div>
<div id="section-strategy-1-simple-effects-interaction-is-significant"
class="section level3">
<h3>Strategy 1: Simple Effects (Interaction is Significant)</h3>
<p>When an interaction is significant, the most informative analysis
examines <strong>simple effects</strong>.</p>
<p><strong>Simple effect:</strong> The effect of one factor at a
specific level of another factor.</p>
<p>Let’s use our tooth growth data where we found a significant
interaction:</p>
<pre class="r"><code># Fit full model
tooth_model &lt;- lm(len ~ supp * dose, data = tooth)

# Get estimated marginal means for all combinations
tooth_emm &lt;- emmeans(tooth_model, ~ supp * dose)
tooth_emm</code></pre>
<pre><code>##  supp dose emmean   SE df lower.CL upper.CL
##  OJ   0.5   13.23 1.15 54    10.93     15.5
##  VC   0.5    7.98 1.15 54     5.68     10.3
##  OJ   1     22.70 1.15 54    20.40     25.0
##  VC   1     16.77 1.15 54    14.47     19.1
##  OJ   2     26.06 1.15 54    23.76     28.4
##  VC   2     26.14 1.15 54    23.84     28.4
## 
## Confidence level used: 0.95</code></pre>
<p><strong>Interpretation:</strong> These are the estimated means for
each of the 6 combinations (2 supplements × 3 doses).</p>
<div id="section-comparing-simple-effects-supplement-within-each-dose"
class="section level4">
<h4>Comparing Simple Effects: Supplement Within Each Dose</h4>
<p><strong>Research question:</strong> “Does supplement type matter at
each specific dosage?”</p>
<pre class="r"><code># Compare supplements within each dose level
emmeans(tooth_model, pairwise ~ supp | dose)</code></pre>
<pre><code>## $emmeans
## dose = 0.5:
##  supp emmean   SE df lower.CL upper.CL
##  OJ    13.23 1.15 54    10.93     15.5
##  VC     7.98 1.15 54     5.68     10.3
## 
## dose = 1:
##  supp emmean   SE df lower.CL upper.CL
##  OJ    22.70 1.15 54    20.40     25.0
##  VC    16.77 1.15 54    14.47     19.1
## 
## dose = 2:
##  supp emmean   SE df lower.CL upper.CL
##  OJ    26.06 1.15 54    23.76     28.4
##  VC    26.14 1.15 54    23.84     28.4
## 
## Confidence level used: 0.95 
## 
## $contrasts
## dose = 0.5:
##  contrast estimate   SE df t.ratio p.value
##  OJ - VC      5.25 1.62 54   3.233  0.0021
## 
## dose = 1:
##  contrast estimate   SE df t.ratio p.value
##  OJ - VC      5.93 1.62 54   3.651  0.0006
## 
## dose = 2:
##  contrast estimate   SE df t.ratio p.value
##  OJ - VC     -0.08 1.62 54  -0.049  0.9609</code></pre>
<p><strong>How to read this:</strong></p>
<ul>
<li><strong>$emmeans:</strong> Shows means for each supplement at each
dose</li>
<li><strong>$contrasts:</strong> Shows the supplement effect at each
dose level separately
<ul>
<li>At 0.5 mg: OJ vs. VC difference is…</li>
<li>At 1.0 mg: OJ vs. VC difference is…</li>
<li>At 2.0 mg: OJ vs. VC difference is…</li>
</ul></li>
</ul>
<p><strong>Why this matters:</strong> The interaction tells us the
supplement effect is NOT the same at all doses. Simple effects show us
exactly how/where it differs.</p>
</div>
<div id="section-alternative-compare-doses-within-each-supplement"
class="section level4">
<h4>Alternative: Compare Doses Within Each Supplement</h4>
<p><strong>Research question:</strong> “Does dosage matter for each
supplement type?”</p>
<pre class="r"><code># Compare doses within each supplement
emmeans(tooth_model, pairwise ~ dose | supp)</code></pre>
<pre><code>## $emmeans
## supp = OJ:
##  dose emmean   SE df lower.CL upper.CL
##  0.5   13.23 1.15 54    10.93     15.5
##  1     22.70 1.15 54    20.40     25.0
##  2     26.06 1.15 54    23.76     28.4
## 
## supp = VC:
##  dose emmean   SE df lower.CL upper.CL
##  0.5    7.98 1.15 54     5.68     10.3
##  1     16.77 1.15 54    14.47     19.1
##  2     26.14 1.15 54    23.84     28.4
## 
## Confidence level used: 0.95 
## 
## $contrasts
## supp = OJ:
##  contrast        estimate   SE df t.ratio p.value
##  dose0.5 - dose1    -9.47 1.62 54  -5.831  &lt;.0001
##  dose0.5 - dose2   -12.83 1.62 54  -7.900  &lt;.0001
##  dose1 - dose2      -3.36 1.62 54  -2.069  0.1060
## 
## supp = VC:
##  contrast        estimate   SE df t.ratio p.value
##  dose0.5 - dose1    -8.79 1.62 54  -5.413  &lt;.0001
##  dose0.5 - dose2   -18.16 1.62 54 -11.182  &lt;.0001
##  dose1 - dose2      -9.37 1.62 54  -5.770  &lt;.0001
## 
## P value adjustment: tukey method for comparing a family of 3 estimates</code></pre>
<p><strong>Interpretation:</strong></p>
<ul>
<li>For OJ: Are all three doses different from each other?</li>
<li>For VC: Are all three doses different from each other?</li>
<li>Do the dose effects differ between supplements?</li>
</ul>
<p><strong>Both approaches are valid!</strong> Choose based on your
research question:</p>
<ul>
<li>If supplement is the treatment of interest → compare supplements
within doses</li>
<li>If dose is the treatment of interest → compare doses within
supplements</li>
<li>For a complete picture → do both!</li>
</ul>
</div>
</div>
<div
id="section-strategy-2-marginal-main-effects-interaction-not-significant"
class="section level3">
<h3>Strategy 2: Marginal Main Effects (Interaction Not Significant)</h3>
<p>When the interaction is <strong>not significant</strong>, marginal
main effects are interpretable because the factors act
independently.</p>
<p><strong>Important:</strong> We still keep the interaction in the
model! We just analyze main effects because they’re more
interpretable.</p>
<p><strong>Marginal mean:</strong> The mean for one factor averaged
across all levels of the other factor.</p>
<div id="section-example-with-no-interaction" class="section level4">
<h4>Example with No Interaction</h4>
<p>Let’s use the course evaluations data where interaction might not be
significant:</p>
<pre class="r"><code># Fit full model (always!)
evals_model &lt;- lm(score ~ rank * gender, data = evals_subset)

# Check if interaction is significant
Anova(evals_model, type = 2)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Sum Sq"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Df"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["F value"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Pr(>F)"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"2.238235","2":"2","3":"3.981268","4":"0.019312897","_rn_":"rank"},{"1":"2.909303","2":"1","3":"10.349865","4":"0.001386823","_rn_":"gender"},{"1":"3.695126","2":"2","3":"6.572717","4":"0.001533871","_rn_":"rank:gender"},{"1":"128.460767","2":"457","3":"NA","4":"NA","_rn_":"Residuals"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Suppose the interaction is not significant (it actually is but let’s
just pretend okay?). We can now meaningfully interpret marginal
means:</p>
<pre class="r"><code># Marginal means for rank (averaged over gender)
rank_emm &lt;- emmeans(evals_model, ~ rank)
rank_emm</code></pre>
<pre><code>##  rank         emmean     SE  df lower.CL upper.CL
##  teaching       4.28 0.0525 457     4.18     4.38
##  tenure track   4.18 0.0531 457     4.07     4.28
##  tenured        4.14 0.0364 457     4.06     4.21
## 
## Results are averaged over the levels of: gender 
## Confidence level used: 0.95</code></pre>
<pre class="r"><code># Pairwise comparisons for rank
pairs(rank_emm, adjust = &quot;tukey&quot;)</code></pre>
<pre><code>##  contrast                estimate     SE  df t.ratio p.value
##  teaching - tenure track   0.1028 0.0747 457   1.377  0.3539
##  teaching - tenured        0.1445 0.0639 457   2.262  0.0623
##  tenure track - tenured    0.0417 0.0644 457   0.647  0.7940
## 
## Results are averaged over the levels of: gender 
## P value adjustment: tukey method for comparing a family of 3 estimates</code></pre>
<p><strong>Interpretation:</strong> These are the average evaluation
scores for each rank, averaged across both genders. Since we assume no
interaction, this averaging is meaningful. The rank effect is similar
for both genders.</p>
<pre class="r"><code># Marginal means for gender (averaged over rank)
gender_emm &lt;- emmeans(evals_model, ~ gender)
gender_emm</code></pre>
<pre><code>##  gender emmean     SE  df lower.CL upper.CL
##  female   4.09 0.0386 457     4.01     4.16
##  male     4.31 0.0397 457     4.23     4.39
## 
## Results are averaged over the levels of: rank 
## Confidence level used: 0.95</code></pre>
<pre class="r"><code># Comparison (only 2 levels, so just one comparison)
pairs(gender_emm)</code></pre>
<pre><code>##  contrast      estimate     SE  df t.ratio p.value
##  female - male   -0.221 0.0554 457  -3.989  0.0001
## 
## Results are averaged over the levels of: rank</code></pre>
<p><strong>Key insight:</strong> When there’s no interaction, we can
interpret each factor independently. The effect of rank doesn’t depend
on gender, and the effect of gender doesn’t depend on rank.</p>
</div>
</div>
<div
id="section-strategy-3-examining-both-simple-effects-and-marginal-means"
class="section level3">
<h3>Strategy 3: Examining Both Simple Effects and Marginal Means</h3>
<p>Sometimes you want to understand both the interaction structure AND
the marginal effects, even when an interaction is present.</p>
<p><strong>Why you might do this:</strong></p>
<ol style="list-style-type: decimal">
<li><strong>Theoretical interest:</strong> You care about both the
interaction and overall effects</li>
<li><strong>Reporting completeness:</strong> You want to show the full
picture</li>
<li><strong>Borderline interaction:</strong> The interaction is
marginally significant (e.g., p = 0.06)</li>
<li><strong>Context:</strong> In some fields, marginal effects are
always reported</li>
</ol>
<p><strong>Important caveat:</strong> When an interaction IS
significant, marginal main effects can be misleading. Always emphasize
the interaction in your interpretation!</p>
<div id="section-example-full-analysis-of-tooth-growth-data"
class="section level4">
<h4>Example: Full Analysis of Tooth Growth Data</h4>
<pre class="r"><code># We know the interaction is significant, but let&#39;s look at both

# 1. Simple effects (primary focus)
cat(&quot;=== SIMPLE EFFECTS (Primary Analysis) ===\n&quot;)</code></pre>
<pre><code>## === SIMPLE EFFECTS (Primary Analysis) ===</code></pre>
<pre class="r"><code>emmeans(tooth_model, pairwise ~ supp | dose)</code></pre>
<pre><code>## $emmeans
## dose = 0.5:
##  supp emmean   SE df lower.CL upper.CL
##  OJ    13.23 1.15 54    10.93     15.5
##  VC     7.98 1.15 54     5.68     10.3
## 
## dose = 1:
##  supp emmean   SE df lower.CL upper.CL
##  OJ    22.70 1.15 54    20.40     25.0
##  VC    16.77 1.15 54    14.47     19.1
## 
## dose = 2:
##  supp emmean   SE df lower.CL upper.CL
##  OJ    26.06 1.15 54    23.76     28.4
##  VC    26.14 1.15 54    23.84     28.4
## 
## Confidence level used: 0.95 
## 
## $contrasts
## dose = 0.5:
##  contrast estimate   SE df t.ratio p.value
##  OJ - VC      5.25 1.62 54   3.233  0.0021
## 
## dose = 1:
##  contrast estimate   SE df t.ratio p.value
##  OJ - VC      5.93 1.62 54   3.651  0.0006
## 
## dose = 2:
##  contrast estimate   SE df t.ratio p.value
##  OJ - VC     -0.08 1.62 54  -0.049  0.9609</code></pre>
<pre class="r"><code># 2. Marginal means (supplementary)
cat(&quot;\n=== MARGINAL MEANS (Supplementary) ===\n&quot;)</code></pre>
<pre><code>## 
## === MARGINAL MEANS (Supplementary) ===</code></pre>
<pre class="r"><code>cat(&quot;Marginal means for supplement:\n&quot;)</code></pre>
<pre><code>## Marginal means for supplement:</code></pre>
<pre class="r"><code>emmeans(tooth_model, ~ supp)</code></pre>
<pre><code>##  supp emmean    SE df lower.CL upper.CL
##  OJ     20.7 0.663 54     19.3     22.0
##  VC     17.0 0.663 54     15.6     18.3
## 
## Results are averaged over the levels of: dose 
## Confidence level used: 0.95</code></pre>
<pre class="r"><code>cat(&quot;\nMarginal means for dose:\n&quot;)</code></pre>
<pre><code>## 
## Marginal means for dose:</code></pre>
<pre class="r"><code>emmeans(tooth_model, ~ dose)</code></pre>
<pre><code>##  dose emmean    SE df lower.CL upper.CL
##  0.5    10.6 0.812 54     8.98     12.2
##  1      19.7 0.812 54    18.11     21.4
##  2      26.1 0.812 54    24.47     27.7
## 
## Results are averaged over the levels of: supp 
## Confidence level used: 0.95</code></pre>
<p><strong>How to report this:</strong></p>
<p>“We found a significant interaction between supplement and dose (p =
0.02). Simple effects analysis revealed that OJ was more effective than
VC at low doses (0.5 mg, p &lt; 0.001; 1.0 mg, p &lt; 0.01) but not at
high doses (2.0 mg, p = 0.45).</p>
<p>While marginal main effects showed that OJ was on average more
effective than VC (p = 0.006) and that higher doses led to greater
growth (p &lt; 0.001), these marginal effects should be interpreted
cautiously given the significant interaction. The interaction indicates
that the supplement effect depends on dosage, so the marginal average
effect of supplement doesn’t tell the whole story.”</p>
</div>
</div>
<div id="section-using-emmeans-with-interactions-the-operator"
class="section level3">
<h3>Using emmeans with interactions: The <code>|</code> operator</h3>
<p>The key to emmeans with interactions is the <strong><code>|</code>
(pipe) operator</strong>:</p>
<p><strong>Syntax:</strong>
<code>pairwise ~ factor_to_compare | factor_to_hold_constant</code></p>
<p><strong>Examples:</strong></p>
<pre class="r"><code># Compare supplement at each dose
emmeans(model, pairwise ~ supp | dose)
# Reads as: &quot;Compare supplement, given dose&quot;
# Or: &quot;Compare supplement within each level of dose&quot;

# Compare dose at each supplement
emmeans(model, pairwise ~ dose | supp)
# Reads as: &quot;Compare dose, given supplement&quot;
# Or: &quot;Compare dose within each level of supplement&quot;</code></pre>
<p><strong>Without the <code>|</code> operator:</strong></p>
<pre class="r"><code># Marginal means (averaged across the other factor)
emmeans(model, ~ supp)  # Supplement averaged over doses
emmeans(model, ~ dose)  # Dose averaged over supplements</code></pre>
</div>
<div id="section-visualizing-your-results" class="section level3">
<h3>Visualizing Your Results</h3>
<p>Visualization helps communicate complex interaction patterns:</p>
<div id="section-interaction-plot-with-emmeans" class="section level4">
<h4>Interaction Plot with emmeans</h4>
<pre class="r"><code># Interaction plot with confidence intervals
emmip(tooth_model, supp ~ dose, CIs = TRUE) +
  labs(x = &quot;Dose (mg/day)&quot;,
       y = &quot;Estimated Mean Tooth Length&quot;,
       color = &quot;Supplement&quot;,
       title = &quot;Interaction Plot: Supplement × Dose&quot;) +
  theme_minimal()</code></pre>
<p><img src="ims-twoway-anova_files/figure-html/unnamed-chunk-17-1.png" width="576" style="display: block; margin: auto;" /></p>
<p><strong>What to highlight:</strong></p>
<ul>
<li>Non-parallel lines = interaction present</li>
<li>Where lines are most separated = where simple effects are
largest</li>
<li>Where lines converge = where simple effects are smallest</li>
</ul>
</div>
<div id="section-comparison-plot-for-simple-effects"
class="section level4">
<h4>Comparison Plot for Simple Effects</h4>
<pre class="r"><code># Create a comparison plot
plot(emmeans(tooth_model, pairwise ~ supp | dose), 
     comparisons = TRUE) +
  labs(title = &quot;Supplement Comparisons Within Each Dose&quot;) +
  theme_minimal()</code></pre>
<p><img src="ims-twoway-anova_files/figure-html/unnamed-chunk-18-1.png" width="576" style="display: block; margin: auto;" /></p>
<p><strong>Interpretation:</strong></p>
<ul>
<li>Points show means with confidence intervals</li>
<li>Arrows show pairwise comparisons</li>
<li>Non-overlapping arrows indicate significant differences</li>
</ul>
</div>
</div>
<div id="section-your-turn-practice-different-strategies"
class="section level3">
<h3>Your Turn: Practice Different Strategies</h3>
<p>Let’s practice using different strategies with the learning data:</p>
<div class="tutorial-exercise" data-label="emmeans_practice"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0" data-pipe="|&gt;">
<pre class="text"><code># Fit the full model
learning_model &lt;- lm(test_score ~ teaching_method * class_size, 
                     data = learning_data)

# Check the interaction
Anova(learning_model, type = 2)

# Strategy 1: Simple effects (if interaction significant)
# Compare teaching methods within each class size
emmeans(learning_model, pairwise ~ ___ | ___)

# Strategy 2: Marginal means (if interaction not significant)
# Get marginal means for teaching method
emmeans(learning_model, ~ ___)

# Visualize
emmip(learning_model, teaching_method ~ class_size, CIs = TRUE)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":false,"caption":"Post-Hoc with emmeans"}</script>
</div>
<div class="tutorial-exercise-support"
data-label="emmeans_practice-hint" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0"
data-pipe="|&gt;">
<pre class="text"><code># Hints:
# For simple effects comparing teaching methods within class size:
#   pairwise ~ teaching_method | class_size
# 
# For marginal means of teaching method:
#   ~ teaching_method
#
# The interaction may or may not be significant - 
# adjust your interpretation accordingly!</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="emmeans_practice-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0"
data-pipe="|&gt;">
<pre class="text"><code># Fit the full model
learning_model &lt;- lm(test_score ~ teaching_method * class_size, 
                     data = learning_data)

# Check the interaction
Anova(learning_model, type = 2)

# Strategy 1: Simple effects
cat(&quot;=== Simple Effects Analysis ===\n&quot;)
emmeans(learning_model, pairwise ~ teaching_method | class_size)

# Alternative simple effects
cat(&quot;\n=== Alternative: Compare class size within teaching method ===\n&quot;)
emmeans(learning_model, pairwise ~ class_size | teaching_method)

# Strategy 2: Marginal means (for comparison)
cat(&quot;\n=== Marginal Means Analysis ===\n&quot;)
cat(&quot;Teaching method (marginal):\n&quot;)
emmeans(learning_model, ~ teaching_method)

cat(&quot;\nClass size (marginal):\n&quot;)
emmeans(learning_model, ~ class_size)

# Visualize
emmip(learning_model, teaching_method ~ class_size, CIs = TRUE) +
  labs(title = &quot;Interaction Plot: Teaching Method × Class Size&quot;)</code></pre>
</div>
</div>
<div id="section-decision-guide-which-strategy-to-use"
class="section level3">
<h3>Decision Guide: Which Strategy to Use?</h3>
<p>Use this flowchart to decide your emmeans strategy:</p>
<pre><code>1. Check the interaction p-value
   │
   ├─ p &lt; 0.05 (Significant interaction)
   │  └─→ Strategy 1: Focus on Simple Effects
   │      - Use pairwise ~ factor1 | factor2
   │      - Interpret effects within levels
   │      - Marginal means less meaningful
   │
   ├─ p &gt; 0.05 (No significant interaction)
   │  └─→ Strategy 2: Examine Marginal Main Effects
   │      - Use ~ factor1 and ~ factor2 separately  
   │      - Interpret factors independently
   │      - Simple effects less necessary
   │
   └─ 0.05 ≤ p ≤ 0.10 (Borderline) OR theoretical reasons
      └─→ Strategy 3: Examine Both
          - Report simple effects (primary)
          - Report marginal means (supplementary)
          - Emphasize interaction in interpretation</code></pre>
</div>
<div id="section-common-mistakes-to-avoid" class="section level3">
<h3>Common Mistakes to Avoid</h3>
<p><strong>Mistake 1:</strong> Removing the interaction from the model
when it’s not significant</p>
<pre class="r"><code># WRONG approach
if (interaction_pvalue &gt; 0.05) {
  model_reduced &lt;- lm(y ~ A + B)  # Don&#39;t do this!
}

# RIGHT approach
model &lt;- lm(y ~ A * B)  # Always keep full model
# Just analyze marginal means if interaction not significant</code></pre>
<p><strong>Why:</strong> In experimental design, the model reflects your
design, not backwards selection.</p>
<p><strong>Mistake 2:</strong> Only looking at marginal means when
interaction is significant</p>
<pre class="r"><code># WRONG: Interaction is significant (p = 0.01)
emmeans(model, ~ factorA)  # Marginal mean - misleading!

# RIGHT: Look at simple effects
emmeans(model, pairwise ~ factorA | factorB)  # Simple effects</code></pre>
<p><strong>Why:</strong> Marginal means average over the interaction,
hiding the most interesting part of your results!</p>
<p><strong>Mistake 3:</strong> Not checking the interaction before
deciding strategy</p>
<pre class="r"><code># WRONG: Jump straight to simple effects without checking
emmeans(model, pairwise ~ A | B)

# RIGHT: Check interaction first, then decide
Anova(model, type = 2)  # Check interaction p-value
# Then choose appropriate emmeans strategy</code></pre>
<p><strong>Why:</strong> Your interpretation strategy should be
data-driven (based on the interaction test).</p>
</div>
<div id="section-summary-emmeans-strategy-guide" class="section level3">
<h3>Summary: <code>emmeans</code> Strategy Guide</h3>
<p><strong>Key principles:</strong></p>
<ol style="list-style-type: decimal">
<li>Always fit the full model with interactions</li>
<li>Check the interaction p-value first</li>
<li>Choose your emmeans strategy based on the interaction:
<ul>
<li>Significant → simple effects (primary focus)</li>
<li>Not significant → marginal means (interpretable)</li>
<li>Borderline → both (with proper caveats)</li>
</ul></li>
<li>Visualize your results</li>
<li>Use appropriate multiple comparison adjustments</li>
<li>Report what you found clearly</li>
</ol>
<p><strong>The golden rule:</strong> The model stays the same. Your
analysis strategy adapts to what the data show.</p>
</div>
</div>
<div id="section-summary-and-reflection" class="section level2">
<h2>Summary and Reflection</h2>
<div id="section-key-takeaways" class="section level3">
<h3>Key Takeaways</h3>
<p><strong>About Factorial Designs:</strong></p>
<ul>
<li>Real-world phenomena often involve <strong>multiple interacting
factors</strong></li>
<li><strong>Interactions</strong> tell us when effects aren’t simply
additive</li>
<li><strong>Non-parallel lines</strong> in interaction plots signal
interactions</li>
<li>Focus on interactions first. They’re usually most interesting!</li>
</ul>
<p><strong>About Model Building:</strong></p>
<ul>
<li><strong>Always</strong> follow the principle of marginality</li>
<li>Include <strong>all lower-order effects</strong> when modeling
interactions</li>
<li>Test the <strong>highest-order terms first</strong> and work
down</li>
<li>Don’t remove main effects based solely on p-values if interactions
are present</li>
</ul>
<p><strong>About Sums of Squares:</strong></p>
<ul>
<li><strong>Balanced designs:</strong> All three types give same
results</li>
<li><strong>Sequential</strong> testing: Type I</li>
<li><strong>Unbalanced designs:</strong> Type II or III usually
preferred</li>
<li><strong>Type II</strong> is often preferred and respects
marginality</li>
<li>Choose your type <strong>before</strong> looking at results!</li>
</ul>
<p><strong>About Assumptions:</strong></p>
<ul>
<li>Check <strong>all assumptions</strong> using diagnostic plots</li>
<li>ANOVA is <strong>robust</strong> to minor violations with moderate
sample sizes</li>
<li>Focus on <strong>substantial violations</strong>, not minor
deviations</li>
<li>Know when to <strong>transform</strong>, use robust methods, or
report limitations</li>
</ul>
<p><strong>About Post-Hoc Testing:</strong></p>
<ul>
<li>Strategy depends on whether <strong>interaction is
significant</strong></li>
<li>With interactions: Use <strong>simple effects</strong></li>
<li>Without interactions: Test <strong>main effects
separately</strong></li>
<li>Always use <strong>multiple comparison adjustments</strong></li>
<li><strong>Visualize</strong> results. Plots often clarify complex
patterns</li>
</ul>
</div>
<div id="section-common-pitfalls-to-avoid" class="section level3">
<h3>Common Pitfalls to Avoid</h3>
<p><strong>1. Ignoring interactions</strong></p>
<ul>
<li>Always test for interactions first</li>
<li>Don’t interpret main effects in isolation when interactions are
present</li>
</ul>
<p><strong>2. Violating marginality</strong></p>
<ul>
<li>Never remove main effects when interactions are significant</li>
<li>Build models hierarchically</li>
</ul>
<p><strong>3. Wrong SS type</strong></p>
<ul>
<li>Don’t blindly use Type I with unless sequential testing is of
interest</li>
<li>Choose Type II or III based on whether interactions are present</li>
</ul>
<p><strong>4. Over-interpreting non-significant
interactions</strong></p>
<ul>
<li>If interaction isn’t significant, simplify to main effects
model</li>
<li>Don’t keep interactions “just in case”</li>
</ul>
<p><strong>5. Forgetting multiple comparisons</strong></p>
<ul>
<li>Always adjust p-values in post-hoc tests</li>
<li>Use Tukey for all pairwise comparisons</li>
</ul>
<p><strong>6. Neglecting diagnostics</strong></p>
<ul>
<li>Always check assumptions before interpreting results</li>
<li>Address serious violations</li>
</ul>
<p><strong>7. Poor communication</strong></p>
<ul>
<li>Visualize complex interactions</li>
<li>Report effect sizes, not just p-values</li>
<li>Explain results in context</li>
</ul>
</div>
</div>
<div id="section-congratulations" class="section level2">
<h2>Congratulations!</h2>
<p>You have successfully completed this tutorial on two-way and
factorial ANOVA!</p>
<p>You’ve learned how to:</p>
<ul>
<li>Distinguish main effects from interactions</li>
<li>Apply the principle of marginality</li>
<li>Use different types of sums of squares appropriately</li>
<li>Check model assumptions with diagnostic plots</li>
<li>Conduct sophisticated post-hoc analyses with
<code>emmeans</code></li>
</ul>
<p>You’re now ready to generate your submission hash. Click “Next Topic”
to proceed.</p>
</div>
<div id="section-submit" class="section level2">
<h2>Submit</h2>
<button id="check_progress" type="button" class="btn btn-default action-button" style="margin-bottom: 15px; background-color: #007bff; color: white;">Check My Progress</button>
<div id="progress_output" class="shiny-html-output"></div>
<hr/>
<div class="encoder_ui">
<div>
If you have completed this tutorial and are happy with all of your
solutions, please enter your identifying information, then click the button below to generate your hash
<div class="form-group shiny-input-container">
<label class="control-label" id="name-label" for="name">What's your name?</label>
<input id="name" type="text" class="shiny-input-text form-control" value="" data-update-on="change"/>
</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="studentID-label" for="studentID">What is your student ID?</label>
<input id="studentID" type="text" class="shiny-input-text form-control" value="" data-update-on="change"/>
</div>
<div id="out0a23ada9231fef9c" class="shiny-text-output"></div>
</div>
<div class="row" style="padding-bottom: 0.5em;">
<div class="col-sm-3">
<button id="hash_generate" type="button" class="btn btn-default action-button" title="Generate hash">Generate</button>
</div>
<div class="col-sm-7"></div>
<div class="col-sm-2">
<div class="btn-group btn-group-sm pull-right" role="group" aria-label="Clipboard buttons">
<button id="hash_select" class="btn btn-default" type="button" title="Select hash"><svg
      aria-hidden="true" focusable="false"
      data-prefix="fas" data-icon="i-cursor"
      class="svg-inline--fa fa-i-cursor fa-w-8"
      role="img" xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 256 512" style="height: 16px;">
      <path fill="currentColor" d="M256 52.048V12.065C256 5.496 250.726.148 244.158.066 211.621-.344 166.469.011 128 37.959 90.266.736 46.979-.114 11.913.114 5.318.157 0 5.519 0 12.114v39.645c0 6.687 5.458 12.078 12.145 11.998C38.111 63.447 96 67.243 96 112.182V224H60c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h36v112c0 44.932-56.075 48.031-83.95 47.959C5.404 447.942 0 453.306 0 459.952v39.983c0 6.569 5.274 11.917 11.842 11.999 32.537.409 77.689.054 116.158-37.894 37.734 37.223 81.021 38.073 116.087 37.845 6.595-.043 11.913-5.405 11.913-12V460.24c0-6.687-5.458-12.078-12.145-11.998C217.889 448.553 160 444.939 160 400V288h36c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-36V112.182c0-44.932 56.075-48.213 83.95-48.142 6.646.018 12.05-5.346 12.05-11.992z">
      </path>
    </svg></button>
<span class="btn-separator"></span>
<button id="hash_copy" class="btn btn-default" type="button" title="Copy hash to clipboard"><svg
      aria-hidden="true" focusable="false"
      data-prefix="far" data-icon="clipboard"
      class="svg-inline--fa fa-clipboard fa-w-12"
      role="img" xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 384 512" style="height: 16px;">
      <path fill="currentColor" d="M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z">
      </path>
    </svg></button>
</div>
</div>
</div>
<pre id="hash_output" class="shiny-text-output" style="white-space: pre-wrap;"></pre>
<br/>
<script>selectText = function(node) {
        node = document.getElementById(node);

        if (document.body.createTextRange) {
          const range = document.body.createTextRange();
          range.moveToElementText(node);
          range.select();
        } else if (window.getSelection) {
          const selection = window.getSelection();
          const range = document.createRange();
          range.selectNodeContents(node);
          selection.removeAllRanges();
          selection.addRange(range);
        } else {
          console.warn('Could not select text in node: Unsupported browser.');
        }
      }</script>
<script>document.getElementById('hash_select').addEventListener('click', function(e) {
        e.preventDefault();

        selectText('hash_output');
      });</script>
<script>document.getElementById('hash_copy').addEventListener('click', function(e) {
        e.preventDefault();

        selectText('hash_output');
        document.execCommand('copy');
      });</script>
</div>
<p>
<script type="application/shiny-prerendered" data-context="server-start">
# load packages ----------------------------------------------------------------
library(learnr)
library(dplyr)
library(ggplot2)
library(tidyr)
library(broom)
library(ggfortify)
library(emmeans)
library(car)  # For Anova() function with different SS types
library(effects)  # For effect plots
library(gridExtra)  # For grid.arrange()

# knitr options ----------------------------------------------------------------

knitr::opts_chunk$set(fig.align = "center", 
                      fig.height = 4, 
                      fig.width = 6,
                      echo = FALSE, 
                      message = FALSE, 
                      warning = FALSE)

# data prep --------------------------------------------------------------------

# Load datasets from local RDS files
data_path <- file.path("data")

tooth <- readRDS(file.path(data_path, "tooth.rds"))
evals_subset <- readRDS(file.path(data_path, "evals_subset.rds"))
learning_data <- readRDS(file.path(data_path, "learning_data.rds"))

# Required exercises for progress tracking
REQUIRED_EXERCISES <- c(
  "interaction_practice",
  "twoway_practice",
  "diagnostics_practice",
  "emmeans_practice"
)

# Hash generation helpers
is_server_context <- function(.envir) {
  inherits(.envir$input, "reactivevalues") &
    inherits(.envir$output, "shinyoutput") &
    inherits(.envir$session, "ShinySession")
}

check_server_context <- function(.envir) {
  if (!is_server_context(.envir)) {
    calling_func <- deparse(sys.calls()[[sys.nframe() - 1]])
    err <- paste0("Function `", calling_func, "`", " must be called from an Rmd chunk where `context = \"server\"`")
    stop(err, call. = FALSE)
  }
}

encoder_logic <- function(strip_output = FALSE) {
  p <- parent.frame()
  check_server_context(p)
  assign("strip_output", strip_output, envir = p)
  local(
    {
      encoded_txt <- shiny::eventReactive(
        input$hash_generate,
        {
          state <- learnr:::get_tutorial_state()
          shiny::validate(shiny::need(length(state) > 0, "No progress yet."))
          shiny::validate(shiny::need(nchar(input$name) > 0, "No name entered."))
          shiny::validate(shiny::need(nchar(input$studentID) > 0, "Please enter your student ID"))
          user_state <- purrr::map_dfr(state, identity, .id = "label")
          user_state <- dplyr::group_by(user_state, label, type, correct)
          user_state <- dplyr::summarize(
            user_state,
            answer = list(answer),
            timestamp = dplyr::first(timestamp),
            .groups = "drop"
          )
          user_state <- dplyr::relocate(user_state, correct, .before = timestamp)
          user_info <- tibble(
            label = c("student_name", "student_id"),
            type = "identifier",
            answer = as.list(c(input$name, input$studentID)),
            timestamp = format(Sys.time(), "%Y-%m-%d %H:%M:%S %Z", tz = "UTC")
          )
          learnrhash::encode_obj(dplyr::bind_rows(user_info, user_state))
        }
      )
      output$hash_output <- shiny::renderText(encoded_txt())
    },
    envir = p
  )
}

# Progress checker logic
progress_checker_logic <- function() {
  p <- parent.frame()
  check_server_context(p)
  local(
    {
      progress_info <- shiny::eventReactive(
        input$check_progress,
        {
          state <- learnr:::get_tutorial_state()
          
          completed_labels <- names(state)
          completed_required <- REQUIRED_EXERCISES %in% completed_labels
          n_completed <- sum(completed_required)
          n_total <- length(REQUIRED_EXERCISES)
          pct <- round(100 * n_completed / n_total)
          
          missing <- REQUIRED_EXERCISES[!completed_required]
          
          list(
            n_completed = n_completed,
            n_total = n_total,
            pct = pct,
            missing = missing
          )
        }
      )
      
      output$progress_output <- shiny::renderUI({
        info <- progress_info()
        
        bar_color <- if (info$pct == 100) {
          "#28a745"
        } else if (info$pct >= 75) {
          "#ffc107"
        } else {
          "#dc3545"
        }
        
        shiny::tagList(
          shiny::tags$div(
            style = "margin-bottom: 10px; font-weight: bold;",
            sprintf("Progress: %d / %d exercises completed (%d%%)", 
                    info$n_completed, info$n_total, info$pct)
          ),
          shiny::tags$div(
            style = "background-color: #e9ecef; border-radius: 4px; height: 24px; margin-bottom: 15px;",
            shiny::tags$div(
              style = sprintf(
                "background-color: %s; width: %d%%; height: 100%%; border-radius: 4px; transition: width 0.3s;",
                bar_color, info$pct
              )
            )
          ),
          if (length(info$missing) > 0) {
            shiny::tags$div(
              style = "color: #856404; background-color: #fff3cd; border: 1px solid #ffeeba; padding: 10px; border-radius: 4px;",
              shiny::tags$strong("Missing exercises:"),
              shiny::tags$ul(
                lapply(info$missing, function(x) shiny::tags$li(x))
              )
            )
          } else {
            shiny::tags$div(
              style = "color: #155724; background-color: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px;",
              shiny::tags$strong("All required exercises completed! You're ready to generate your hash.")
            )
          }
        )
      })
    },
    envir = p
  )
}

hash_encoder_ui <- {
  shiny::div("If you have completed this tutorial and are happy with all of your", "solutions, please enter your identifying information, then click the button below to generate your hash", textInput("name", "What's your name?"), textInput("studentID", "What is your student ID?"), renderText({
    input$caption
  }), )
}
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::prepare_tutorial_state(session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::i18n_observe_tutorial_language(input, session)
</script>


<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::event_trigger(session, "session_stop")
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz_1", question = structure("Which plot(s) show evidence of an interaction between the two factors?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_499eae3", 
    option = "Only Plot A", value = "Only Plot A", label = structure("Only Plot A", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("No. Plot A shows parallel lines—the effect of the x-axis factor is the same for both groups. This indicates NO interaction.", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_b15b906", 
    option = "Only Plot B", value = "Only Plot B", label = structure("Only Plot B", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("Close! Plot B does show an interaction (non-parallel lines), but so does another plot.", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_2388cb5", 
    option = "Only Plot C", value = "Only Plot C", label = structure("Only Plot C", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("Close! Plot C shows a strong interaction (crossing lines), but another plot also shows an interaction.", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_5fdccae", 
    option = "Plots B and C", value = "Plots B and C", label = structure("Plots B and C", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_a114a2d", 
    option = "All three plots", value = "All three plots", label = structure("All three plots", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("No. Plot A shows parallel lines, which indicates no interaction between factors.", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct! Plots B and C show non-parallel lines, indicating interactions. In Plot B, the effect of factor 1 (x-axis) changes magnitude across groups. In Plot C, the effect actually reverses (lines cross)!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz_1-answer", question = "quiz_1"), loading = NULL, 
    random_answer_order = FALSE, allow_retry = TRUE, seed = 1445254545.827, 
    options = list()), class = c("learnr_radio", "tutorial_question"
)), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-interaction_practice-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-interaction_practice-code-editor`)), session)
output$`tutorial-exercise-interaction_practice-output` <- renderUI({
  `tutorial-exercise-interaction_practice-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "interaction_practice", global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(dplyr)", "library(ggplot2)", "library(tidyr)", 
"library(broom)", "library(ggfortify)", "library(emmeans)", "library(car)  # For Anova() function with different SS types", 
"library(effects)  # For effect plots", "library(gridExtra)  # For grid.arrange()", 
"", "# knitr options ----------------------------------------------------------------", 
"", "knitr::opts_chunk$set(fig.align = \"center\", ", "                      fig.height = 4, ", 
"                      fig.width = 6,", "                      echo = FALSE, ", 
"                      message = FALSE, ", "                      warning = FALSE)", 
"", "# data prep --------------------------------------------------------------------", 
"", "# Load datasets from local RDS files", "data_path <- file.path(\"data\")", 
"", "tooth <- readRDS(file.path(data_path, \"tooth.rds\"))", 
"evals_subset <- readRDS(file.path(data_path, \"evals_subset.rds\"))", 
"learning_data <- readRDS(file.path(data_path, \"learning_data.rds\"))", 
"", "# Required exercises for progress tracking", "REQUIRED_EXERCISES <- c(", 
"  \"interaction_practice\",", "  \"twoway_practice\",", "  \"diagnostics_practice\",", 
"  \"emmeans_practice\"", ")", "", "# Hash generation helpers", 
"is_server_context <- function(.envir) {", "  inherits(.envir$input, \"reactivevalues\") &", 
"    inherits(.envir$output, \"shinyoutput\") &", "    inherits(.envir$session, \"ShinySession\")", 
"}", "", "check_server_context <- function(.envir) {", "  if (!is_server_context(.envir)) {", 
"    calling_func <- deparse(sys.calls()[[sys.nframe() - 1]])", 
"    err <- paste0(\"Function `\", calling_func, \"`\", \" must be called from an Rmd chunk where `context = \\\"server\\\"`\")", 
"    stop(err, call. = FALSE)", "  }", "}", "", "encoder_logic <- function(strip_output = FALSE) {", 
"  p <- parent.frame()", "  check_server_context(p)", "  assign(\"strip_output\", strip_output, envir = p)", 
"  local(", "    {", "      encoded_txt <- shiny::eventReactive(", 
"        input$hash_generate,", "        {", "          state <- learnr:::get_tutorial_state()", 
"          shiny::validate(shiny::need(length(state) > 0, \"No progress yet.\"))", 
"          shiny::validate(shiny::need(nchar(input$name) > 0, \"No name entered.\"))", 
"          shiny::validate(shiny::need(nchar(input$studentID) > 0, \"Please enter your student ID\"))", 
"          user_state <- purrr::map_dfr(state, identity, .id = \"label\")", 
"          user_state <- dplyr::group_by(user_state, label, type, correct)", 
"          user_state <- dplyr::summarize(", "            user_state,", 
"            answer = list(answer),", "            timestamp = dplyr::first(timestamp),", 
"            .groups = \"drop\"", "          )", "          user_state <- dplyr::relocate(user_state, correct, .before = timestamp)", 
"          user_info <- tibble(", "            label = c(\"student_name\", \"student_id\"),", 
"            type = \"identifier\",", "            answer = as.list(c(input$name, input$studentID)),", 
"            timestamp = format(Sys.time(), \"%Y-%m-%d %H:%M:%S %Z\", tz = \"UTC\")", 
"          )", "          learnrhash::encode_obj(dplyr::bind_rows(user_info, user_state))", 
"        }", "      )", "      output$hash_output <- shiny::renderText(encoded_txt())", 
"    },", "    envir = p", "  )", "}", "", "# Progress checker logic", 
"progress_checker_logic <- function() {", "  p <- parent.frame()", 
"  check_server_context(p)", "  local(", "    {", "      progress_info <- shiny::eventReactive(", 
"        input$check_progress,", "        {", "          state <- learnr:::get_tutorial_state()", 
"          ", "          completed_labels <- names(state)", "          completed_required <- REQUIRED_EXERCISES %in% completed_labels", 
"          n_completed <- sum(completed_required)", "          n_total <- length(REQUIRED_EXERCISES)", 
"          pct <- round(100 * n_completed / n_total)", "          ", 
"          missing <- REQUIRED_EXERCISES[!completed_required]", 
"          ", "          list(", "            n_completed = n_completed,", 
"            n_total = n_total,", "            pct = pct,", "            missing = missing", 
"          )", "        }", "      )", "      ", "      output$progress_output <- shiny::renderUI({", 
"        info <- progress_info()", "        ", "        bar_color <- if (info$pct == 100) {", 
"          \"#28a745\"", "        } else if (info$pct >= 75) {", 
"          \"#ffc107\"", "        } else {", "          \"#dc3545\"", 
"        }", "        ", "        shiny::tagList(", "          shiny::tags$div(", 
"            style = \"margin-bottom: 10px; font-weight: bold;\",", 
"            sprintf(\"Progress: %d / %d exercises completed (%d%%)\", ", 
"                    info$n_completed, info$n_total, info$pct)", 
"          ),", "          shiny::tags$div(", "            style = \"background-color: #e9ecef; border-radius: 4px; height: 24px; margin-bottom: 15px;\",", 
"            shiny::tags$div(", "              style = sprintf(", 
"                \"background-color: %s; width: %d%%; height: 100%%; border-radius: 4px; transition: width 0.3s;\",", 
"                bar_color, info$pct", "              )", "            )", 
"          ),", "          if (length(info$missing) > 0) {", 
"            shiny::tags$div(", "              style = \"color: #856404; background-color: #fff3cd; border: 1px solid #ffeeba; padding: 10px; border-radius: 4px;\",", 
"              shiny::tags$strong(\"Missing exercises:\"),", 
"              shiny::tags$ul(", "                lapply(info$missing, function(x) shiny::tags$li(x))", 
"              )", "            )", "          } else {", "            shiny::tags$div(", 
"              style = \"color: #155724; background-color: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px;\",", 
"              shiny::tags$strong(\"All required exercises completed! You're ready to generate your hash.\")", 
"            )", "          }", "        )", "      })", "    },", 
"    envir = p", "  )", "}", "", "hash_encoder_ui <- {", "  shiny::div(\"If you have completed this tutorial and are happy with all of your\", \"solutions, please enter your identifying information, then click the button below to generate your hash\", textInput(\"name\", \"What's your name?\"), textInput(\"studentID\", \"What is your student ID?\"), renderText({", 
"    input$caption", "  }), )", "}"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "interaction_practice", 
    code = "# Calculate means\nlearning_means <- learning_data |>\n  group_by(___, ___) |>\n  summarize(mean_score = mean(___), .groups = \"drop\")\n\n# Create interaction plot\nggplot(learning_means, \n       aes(x = ___, y = ___, \n           color = ___, group = ___)) +\n  geom_point(size = 3) +\n  geom_line(linewidth = 1) +\n  labs(x = \"Class Size\",\n       y = \"Mean Test Score\",\n       color = \"Teaching Method\",\n       title = \"Interaction Plot: Test Scores\") +\n  theme_minimal()", 
    opts = list(label = "\"interaction_practice\"", exercise = "TRUE", 
        exercise.cap = "\"Create Interaction Plot\""), engine = "r")), 
    code_check = NULL, error_check = NULL, check = NULL, solution = structure(c("# Calculate means", 
    "learning_means <- learning_data |>", "  group_by(teaching_method, class_size) |>", 
    "  summarize(mean_score = mean(test_score), .groups = \"drop\")", 
    "", "# Create interaction plot", "ggplot(learning_means, ", 
    "       aes(x = class_size, y = mean_score, ", "           color = teaching_method, group = teaching_method)) +", 
    "  geom_point(size = 3) +", "  geom_line(linewidth = 1) +", 
    "  labs(x = \"Class Size\",", "       y = \"Mean Test Score\",", 
    "       color = \"Teaching Method\",", "       title = \"Interaction Plot: Test Scores\") +", 
    "  theme_minimal()"), chunk_opts = list(label = "interaction_practice-solution")), 
    tests = NULL, options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "ims-twoway-anova_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "center", fig.path = "ims-twoway-anova_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6, fig.height = 4, fig.env = "figure", fig.cap = NULL, 
        fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 576, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, label = "interaction_practice", exercise = TRUE, 
        exercise.cap = "Create Interaction Plot", code = c("# Calculate means", 
        "learning_means <- learning_data |>", "  group_by(___, ___) |>", 
        "  summarize(mean_score = mean(___), .groups = \"drop\")", 
        "", "# Create interaction plot", "ggplot(learning_means, ", 
        "       aes(x = ___, y = ___, ", "           color = ___, group = ___)) +", 
        "  geom_point(size = 3) +", "  geom_line(linewidth = 1) +", 
        "  labs(x = \"Class Size\",", "       y = \"Mean Test Score\",", 
        "       color = \"Teaching Method\",", "       title = \"Interaction Plot: Test Scores\") +", 
        "  theme_minimal()"), out.width.px = 576, out.height.px = 384, 
        params.src = "interaction_practice, exercise=TRUE, exercise.cap=\"Create Interaction Plot\"", 
        fig.num = 0, exercise.df_print = "paged", exercise.checker = "NULL"), 
    engine = "r", version = "4"), class = c("r", "tutorial_exercise"
)))
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz_2", question = structure("Based on the ANOVA output for the tooth growth interactive model, which effects are statistically significant at α = 0.05?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_bcb1206", 
    option = "Only the main effect of supplement", value = "Only the main effect of supplement", 
    label = structure("Only the main effect of supplement", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("Look more carefully at all the p-values in the ANOVA table. Are there other effects with p &lt; 0.05?", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_a6656d6", 
    option = "Only the main effect of dose", value = "Only the main effect of dose", 
    label = structure("Only the main effect of dose", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("Look more carefully at all the p-values. Are there other effects with p &lt; 0.05?", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_5f4afe6", 
    option = "Both main effects, but not the interaction", value = "Both main effects, but not the interaction", 
    label = structure("Both main effects, but not the interaction", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("Check the p-value for supp:dose. Is it less than 0.05?", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_3d1d262", 
    option = "All three effects (both main effects and the interaction)", 
    value = "All three effects (both main effects and the interaction)", 
    label = structure("All three effects (both main effects and the interaction)", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_375c795", 
    option = "None of the effects", value = "None of the effects", 
    label = structure("None of the effects", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("Look at the p-values. Are any less than 0.05?", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Excellent! Both main effects and the interaction are significant. This tells us: (1) supplement type matters, (2) dosage matters, and (3) the effect of supplement depends on dosage (or vice versa). We should focus on the interaction!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz_2-answer", question = "quiz_2"), loading = NULL, 
    random_answer_order = FALSE, allow_retry = TRUE, seed = 1238065170.42348, 
    options = list()), class = c("learnr_radio", "tutorial_question"
)), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-twoway_practice-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-twoway_practice-code-editor`)), session)
output$`tutorial-exercise-twoway_practice-output` <- renderUI({
  `tutorial-exercise-twoway_practice-result`()
})
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "twoway_practice", global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(dplyr)", "library(ggplot2)", "library(tidyr)", 
"library(broom)", "library(ggfortify)", "library(emmeans)", "library(car)  # For Anova() function with different SS types", 
"library(effects)  # For effect plots", "library(gridExtra)  # For grid.arrange()", 
"", "# knitr options ----------------------------------------------------------------", 
"", "knitr::opts_chunk$set(fig.align = \"center\", ", "                      fig.height = 4, ", 
"                      fig.width = 6,", "                      echo = FALSE, ", 
"                      message = FALSE, ", "                      warning = FALSE)", 
"", "# data prep --------------------------------------------------------------------", 
"", "# Load datasets from local RDS files", "data_path <- file.path(\"data\")", 
"", "tooth <- readRDS(file.path(data_path, \"tooth.rds\"))", 
"evals_subset <- readRDS(file.path(data_path, \"evals_subset.rds\"))", 
"learning_data <- readRDS(file.path(data_path, \"learning_data.rds\"))", 
"", "# Required exercises for progress tracking", "REQUIRED_EXERCISES <- c(", 
"  \"interaction_practice\",", "  \"twoway_practice\",", "  \"diagnostics_practice\",", 
"  \"emmeans_practice\"", ")", "", "# Hash generation helpers", 
"is_server_context <- function(.envir) {", "  inherits(.envir$input, \"reactivevalues\") &", 
"    inherits(.envir$output, \"shinyoutput\") &", "    inherits(.envir$session, \"ShinySession\")", 
"}", "", "check_server_context <- function(.envir) {", "  if (!is_server_context(.envir)) {", 
"    calling_func <- deparse(sys.calls()[[sys.nframe() - 1]])", 
"    err <- paste0(\"Function `\", calling_func, \"`\", \" must be called from an Rmd chunk where `context = \\\"server\\\"`\")", 
"    stop(err, call. = FALSE)", "  }", "}", "", "encoder_logic <- function(strip_output = FALSE) {", 
"  p <- parent.frame()", "  check_server_context(p)", "  assign(\"strip_output\", strip_output, envir = p)", 
"  local(", "    {", "      encoded_txt <- shiny::eventReactive(", 
"        input$hash_generate,", "        {", "          state <- learnr:::get_tutorial_state()", 
"          shiny::validate(shiny::need(length(state) > 0, \"No progress yet.\"))", 
"          shiny::validate(shiny::need(nchar(input$name) > 0, \"No name entered.\"))", 
"          shiny::validate(shiny::need(nchar(input$studentID) > 0, \"Please enter your student ID\"))", 
"          user_state <- purrr::map_dfr(state, identity, .id = \"label\")", 
"          user_state <- dplyr::group_by(user_state, label, type, correct)", 
"          user_state <- dplyr::summarize(", "            user_state,", 
"            answer = list(answer),", "            timestamp = dplyr::first(timestamp),", 
"            .groups = \"drop\"", "          )", "          user_state <- dplyr::relocate(user_state, correct, .before = timestamp)", 
"          user_info <- tibble(", "            label = c(\"student_name\", \"student_id\"),", 
"            type = \"identifier\",", "            answer = as.list(c(input$name, input$studentID)),", 
"            timestamp = format(Sys.time(), \"%Y-%m-%d %H:%M:%S %Z\", tz = \"UTC\")", 
"          )", "          learnrhash::encode_obj(dplyr::bind_rows(user_info, user_state))", 
"        }", "      )", "      output$hash_output <- shiny::renderText(encoded_txt())", 
"    },", "    envir = p", "  )", "}", "", "# Progress checker logic", 
"progress_checker_logic <- function() {", "  p <- parent.frame()", 
"  check_server_context(p)", "  local(", "    {", "      progress_info <- shiny::eventReactive(", 
"        input$check_progress,", "        {", "          state <- learnr:::get_tutorial_state()", 
"          ", "          completed_labels <- names(state)", "          completed_required <- REQUIRED_EXERCISES %in% completed_labels", 
"          n_completed <- sum(completed_required)", "          n_total <- length(REQUIRED_EXERCISES)", 
"          pct <- round(100 * n_completed / n_total)", "          ", 
"          missing <- REQUIRED_EXERCISES[!completed_required]", 
"          ", "          list(", "            n_completed = n_completed,", 
"            n_total = n_total,", "            pct = pct,", "            missing = missing", 
"          )", "        }", "      )", "      ", "      output$progress_output <- shiny::renderUI({", 
"        info <- progress_info()", "        ", "        bar_color <- if (info$pct == 100) {", 
"          \"#28a745\"", "        } else if (info$pct >= 75) {", 
"          \"#ffc107\"", "        } else {", "          \"#dc3545\"", 
"        }", "        ", "        shiny::tagList(", "          shiny::tags$div(", 
"            style = \"margin-bottom: 10px; font-weight: bold;\",", 
"            sprintf(\"Progress: %d / %d exercises completed (%d%%)\", ", 
"                    info$n_completed, info$n_total, info$pct)", 
"          ),", "          shiny::tags$div(", "            style = \"background-color: #e9ecef; border-radius: 4px; height: 24px; margin-bottom: 15px;\",", 
"            shiny::tags$div(", "              style = sprintf(", 
"                \"background-color: %s; width: %d%%; height: 100%%; border-radius: 4px; transition: width 0.3s;\",", 
"                bar_color, info$pct", "              )", "            )", 
"          ),", "          if (length(info$missing) > 0) {", 
"            shiny::tags$div(", "              style = \"color: #856404; background-color: #fff3cd; border: 1px solid #ffeeba; padding: 10px; border-radius: 4px;\",", 
"              shiny::tags$strong(\"Missing exercises:\"),", 
"              shiny::tags$ul(", "                lapply(info$missing, function(x) shiny::tags$li(x))", 
"              )", "            )", "          } else {", "            shiny::tags$div(", 
"              style = \"color: #155724; background-color: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px;\",", 
"              shiny::tags$strong(\"All required exercises completed! You're ready to generate your hash.\")", 
"            )", "          }", "        )", "      })", "    },", 
"    envir = p", "  )", "}", "", "hash_encoder_ui <- {", "  shiny::div(\"If you have completed this tutorial and are happy with all of your\", \"solutions, please enter your identifying information, then click the button below to generate your hash\", textInput(\"name\", \"What's your name?\"), textInput(\"studentID\", \"What is your student ID?\"), renderText({", 
"    input$caption", "  }), )", "}"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "twoway_practice", 
    code = "# Fit interactive model\nlearning_model <- lm(___ ~ ___ * ___, data = learning_data)\n\n# View ANOVA table\nanova(___)", 
    opts = list(label = "\"twoway_practice\"", exercise = "TRUE", 
        exercise.cap = "\"Fit Two-Way ANOVA\""), engine = "r")), 
    code_check = NULL, error_check = NULL, check = NULL, solution = structure(c("# Fit interactive model", 
    "learning_model <- lm(test_score ~ teaching_method * class_size, ", 
    "                     data = learning_data)", "", "# View ANOVA table", 
    "anova(learning_model)", "", "# For a cleaner table:", "anova(learning_model) |> tidy()"
    ), chunk_opts = list(label = "twoway_practice-solution")), 
    tests = NULL, options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "ims-twoway-anova_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "center", fig.path = "ims-twoway-anova_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6, fig.height = 4, fig.env = "figure", fig.cap = NULL, 
        fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 576, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, label = "twoway_practice", exercise = TRUE, 
        exercise.cap = "Fit Two-Way ANOVA", code = c("# Fit interactive model", 
        "learning_model <- lm(___ ~ ___ * ___, data = learning_data)", 
        "", "# View ANOVA table", "anova(___)"), out.width.px = 576, 
        out.height.px = 384, params.src = "twoway_practice, exercise=TRUE, exercise.cap=\"Fit Two-Way ANOVA\"", 
        fig.num = 0, exercise.df_print = "paged", exercise.checker = "NULL"), 
    engine = "r", version = "4"), class = c("r", "tutorial_exercise"
)))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz_marginality", 
    question = structure("You have a balanced factorial design. You want to test your main effects following the principle of marginality. Which type of sums of squares should you use as your default?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_5619cd5", 
        option = "Type I, because it's the default in R", value = "Type I, because it's the default in R", 
        label = structure("Type I, because it’s the default in R", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("Type I is order-dependent and tests effects sequentially. It doesn’t properly control for the other main effect, making it inappropriate for most factorial designs.", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_6586917", 
        option = "Type II, because it respects marginality", 
        value = "Type II, because it respects marginality", label = structure("Type II, because it respects marginality", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_d10d155", 
        option = "Type III, because it's used by SAS and SPSS", 
        value = "Type III, because it's used by SAS and SPSS", 
        label = structure("Type III, because it’s used by SAS and SPSS", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("While Type III is common in some software, it violates the principle of marginality by testing main effects while controlling for interactions that involve those very effects. Statisticians like Nelder, Senn, and Langsrud have strongly criticized this approach.", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_5ad310b", 
        option = "It doesn't matter since the design is balanced", 
        value = "It doesn't matter since the design is balanced", 
        label = structure("It doesn’t matter since the design is balanced", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("While balanced designs make the numerical differences smaller, the choice still matters philosophically. Type II tests respect marginality while Type III violates it. The question is: which hypothesis do you want to test?", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Excellent! Type II respects the principle of marginality by testing main effects without adjusting for their interaction. It’s more powerful when interactions are absent and philosophically sound. Even when an interaction is present, Type II appropriately shows that main effects (after controlling for other main effects) may not be significant, directing us to focus on simple effects instead.", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz_marginality-answer", question = "quiz_marginality"), 
    loading = NULL, random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1683512243.21605, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-diagnostics_practice-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-diagnostics_practice-code-editor`)), session)
output$`tutorial-exercise-diagnostics_practice-output` <- renderUI({
  `tutorial-exercise-diagnostics_practice-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "diagnostics_practice", global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(dplyr)", "library(ggplot2)", "library(tidyr)", 
"library(broom)", "library(ggfortify)", "library(emmeans)", "library(car)  # For Anova() function with different SS types", 
"library(effects)  # For effect plots", "library(gridExtra)  # For grid.arrange()", 
"", "# knitr options ----------------------------------------------------------------", 
"", "knitr::opts_chunk$set(fig.align = \"center\", ", "                      fig.height = 4, ", 
"                      fig.width = 6,", "                      echo = FALSE, ", 
"                      message = FALSE, ", "                      warning = FALSE)", 
"", "# data prep --------------------------------------------------------------------", 
"", "# Load datasets from local RDS files", "data_path <- file.path(\"data\")", 
"", "tooth <- readRDS(file.path(data_path, \"tooth.rds\"))", 
"evals_subset <- readRDS(file.path(data_path, \"evals_subset.rds\"))", 
"learning_data <- readRDS(file.path(data_path, \"learning_data.rds\"))", 
"", "# Required exercises for progress tracking", "REQUIRED_EXERCISES <- c(", 
"  \"interaction_practice\",", "  \"twoway_practice\",", "  \"diagnostics_practice\",", 
"  \"emmeans_practice\"", ")", "", "# Hash generation helpers", 
"is_server_context <- function(.envir) {", "  inherits(.envir$input, \"reactivevalues\") &", 
"    inherits(.envir$output, \"shinyoutput\") &", "    inherits(.envir$session, \"ShinySession\")", 
"}", "", "check_server_context <- function(.envir) {", "  if (!is_server_context(.envir)) {", 
"    calling_func <- deparse(sys.calls()[[sys.nframe() - 1]])", 
"    err <- paste0(\"Function `\", calling_func, \"`\", \" must be called from an Rmd chunk where `context = \\\"server\\\"`\")", 
"    stop(err, call. = FALSE)", "  }", "}", "", "encoder_logic <- function(strip_output = FALSE) {", 
"  p <- parent.frame()", "  check_server_context(p)", "  assign(\"strip_output\", strip_output, envir = p)", 
"  local(", "    {", "      encoded_txt <- shiny::eventReactive(", 
"        input$hash_generate,", "        {", "          state <- learnr:::get_tutorial_state()", 
"          shiny::validate(shiny::need(length(state) > 0, \"No progress yet.\"))", 
"          shiny::validate(shiny::need(nchar(input$name) > 0, \"No name entered.\"))", 
"          shiny::validate(shiny::need(nchar(input$studentID) > 0, \"Please enter your student ID\"))", 
"          user_state <- purrr::map_dfr(state, identity, .id = \"label\")", 
"          user_state <- dplyr::group_by(user_state, label, type, correct)", 
"          user_state <- dplyr::summarize(", "            user_state,", 
"            answer = list(answer),", "            timestamp = dplyr::first(timestamp),", 
"            .groups = \"drop\"", "          )", "          user_state <- dplyr::relocate(user_state, correct, .before = timestamp)", 
"          user_info <- tibble(", "            label = c(\"student_name\", \"student_id\"),", 
"            type = \"identifier\",", "            answer = as.list(c(input$name, input$studentID)),", 
"            timestamp = format(Sys.time(), \"%Y-%m-%d %H:%M:%S %Z\", tz = \"UTC\")", 
"          )", "          learnrhash::encode_obj(dplyr::bind_rows(user_info, user_state))", 
"        }", "      )", "      output$hash_output <- shiny::renderText(encoded_txt())", 
"    },", "    envir = p", "  )", "}", "", "# Progress checker logic", 
"progress_checker_logic <- function() {", "  p <- parent.frame()", 
"  check_server_context(p)", "  local(", "    {", "      progress_info <- shiny::eventReactive(", 
"        input$check_progress,", "        {", "          state <- learnr:::get_tutorial_state()", 
"          ", "          completed_labels <- names(state)", "          completed_required <- REQUIRED_EXERCISES %in% completed_labels", 
"          n_completed <- sum(completed_required)", "          n_total <- length(REQUIRED_EXERCISES)", 
"          pct <- round(100 * n_completed / n_total)", "          ", 
"          missing <- REQUIRED_EXERCISES[!completed_required]", 
"          ", "          list(", "            n_completed = n_completed,", 
"            n_total = n_total,", "            pct = pct,", "            missing = missing", 
"          )", "        }", "      )", "      ", "      output$progress_output <- shiny::renderUI({", 
"        info <- progress_info()", "        ", "        bar_color <- if (info$pct == 100) {", 
"          \"#28a745\"", "        } else if (info$pct >= 75) {", 
"          \"#ffc107\"", "        } else {", "          \"#dc3545\"", 
"        }", "        ", "        shiny::tagList(", "          shiny::tags$div(", 
"            style = \"margin-bottom: 10px; font-weight: bold;\",", 
"            sprintf(\"Progress: %d / %d exercises completed (%d%%)\", ", 
"                    info$n_completed, info$n_total, info$pct)", 
"          ),", "          shiny::tags$div(", "            style = \"background-color: #e9ecef; border-radius: 4px; height: 24px; margin-bottom: 15px;\",", 
"            shiny::tags$div(", "              style = sprintf(", 
"                \"background-color: %s; width: %d%%; height: 100%%; border-radius: 4px; transition: width 0.3s;\",", 
"                bar_color, info$pct", "              )", "            )", 
"          ),", "          if (length(info$missing) > 0) {", 
"            shiny::tags$div(", "              style = \"color: #856404; background-color: #fff3cd; border: 1px solid #ffeeba; padding: 10px; border-radius: 4px;\",", 
"              shiny::tags$strong(\"Missing exercises:\"),", 
"              shiny::tags$ul(", "                lapply(info$missing, function(x) shiny::tags$li(x))", 
"              )", "            )", "          } else {", "            shiny::tags$div(", 
"              style = \"color: #155724; background-color: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px;\",", 
"              shiny::tags$strong(\"All required exercises completed! You're ready to generate your hash.\")", 
"            )", "          }", "        )", "      })", "    },", 
"    envir = p", "  )", "}", "", "hash_encoder_ui <- {", "  shiny::div(\"If you have completed this tutorial and are happy with all of your\", \"solutions, please enter your identifying information, then click the button below to generate your hash\", textInput(\"name\", \"What's your name?\"), textInput(\"studentID\", \"What is your student ID?\"), renderText({", 
"    input$caption", "  }), )", "}"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "diagnostics_practice", 
    code = "# Fit the model\nlearning_model <- lm(test_score ~ teaching_method * class_size, \n                     data = learning_data)\n\n# Create diagnostic plots\nautoplot(___, which = ___, ncol = 2, nrow = 2)", 
    opts = list(label = "\"diagnostics_practice\"", exercise = "TRUE", 
        exercise.cap = "\"Model Diagnostics\""), engine = "r")), 
    code_check = NULL, error_check = NULL, check = NULL, solution = structure(c("# Fit the model", 
    "learning_model <- lm(test_score ~ teaching_method * class_size, ", 
    "                     data = learning_data)", "", "# Create diagnostic plots", 
    "autoplot(learning_model, which = 1:4, ncol = 2, nrow = 2)", 
    "", "# Alternative: show just normality and equal variance", 
    "autoplot(learning_model, which = c(2, 3), ncol = 2)"), chunk_opts = list(
        label = "diagnostics_practice-solution")), tests = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "ims-twoway-anova_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "center", fig.path = "ims-twoway-anova_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6, fig.height = 4, fig.env = "figure", fig.cap = NULL, 
        fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 576, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, label = "diagnostics_practice", exercise = TRUE, 
        exercise.cap = "Model Diagnostics", code = c("# Fit the model", 
        "learning_model <- lm(test_score ~ teaching_method * class_size, ", 
        "                     data = learning_data)", "", "# Create diagnostic plots", 
        "autoplot(___, which = ___, ncol = 2, nrow = 2)"), out.width.px = 576, 
        out.height.px = 384, params.src = "diagnostics_practice, exercise=TRUE, exercise.cap=\"Model Diagnostics\"", 
        fig.num = 0, exercise.df_print = "paged", exercise.checker = "NULL"), 
    engine = "r", version = "4"), class = c("r", "tutorial_exercise"
)))
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-emmeans_practice-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-emmeans_practice-code-editor`)), session)
output$`tutorial-exercise-emmeans_practice-output` <- renderUI({
  `tutorial-exercise-emmeans_practice-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(label = "emmeans_practice", global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(dplyr)", "library(ggplot2)", "library(tidyr)", 
"library(broom)", "library(ggfortify)", "library(emmeans)", "library(car)  # For Anova() function with different SS types", 
"library(effects)  # For effect plots", "library(gridExtra)  # For grid.arrange()", 
"", "# knitr options ----------------------------------------------------------------", 
"", "knitr::opts_chunk$set(fig.align = \"center\", ", "                      fig.height = 4, ", 
"                      fig.width = 6,", "                      echo = FALSE, ", 
"                      message = FALSE, ", "                      warning = FALSE)", 
"", "# data prep --------------------------------------------------------------------", 
"", "# Load datasets from local RDS files", "data_path <- file.path(\"data\")", 
"", "tooth <- readRDS(file.path(data_path, \"tooth.rds\"))", 
"evals_subset <- readRDS(file.path(data_path, \"evals_subset.rds\"))", 
"learning_data <- readRDS(file.path(data_path, \"learning_data.rds\"))", 
"", "# Required exercises for progress tracking", "REQUIRED_EXERCISES <- c(", 
"  \"interaction_practice\",", "  \"twoway_practice\",", "  \"diagnostics_practice\",", 
"  \"emmeans_practice\"", ")", "", "# Hash generation helpers", 
"is_server_context <- function(.envir) {", "  inherits(.envir$input, \"reactivevalues\") &", 
"    inherits(.envir$output, \"shinyoutput\") &", "    inherits(.envir$session, \"ShinySession\")", 
"}", "", "check_server_context <- function(.envir) {", "  if (!is_server_context(.envir)) {", 
"    calling_func <- deparse(sys.calls()[[sys.nframe() - 1]])", 
"    err <- paste0(\"Function `\", calling_func, \"`\", \" must be called from an Rmd chunk where `context = \\\"server\\\"`\")", 
"    stop(err, call. = FALSE)", "  }", "}", "", "encoder_logic <- function(strip_output = FALSE) {", 
"  p <- parent.frame()", "  check_server_context(p)", "  assign(\"strip_output\", strip_output, envir = p)", 
"  local(", "    {", "      encoded_txt <- shiny::eventReactive(", 
"        input$hash_generate,", "        {", "          state <- learnr:::get_tutorial_state()", 
"          shiny::validate(shiny::need(length(state) > 0, \"No progress yet.\"))", 
"          shiny::validate(shiny::need(nchar(input$name) > 0, \"No name entered.\"))", 
"          shiny::validate(shiny::need(nchar(input$studentID) > 0, \"Please enter your student ID\"))", 
"          user_state <- purrr::map_dfr(state, identity, .id = \"label\")", 
"          user_state <- dplyr::group_by(user_state, label, type, correct)", 
"          user_state <- dplyr::summarize(", "            user_state,", 
"            answer = list(answer),", "            timestamp = dplyr::first(timestamp),", 
"            .groups = \"drop\"", "          )", "          user_state <- dplyr::relocate(user_state, correct, .before = timestamp)", 
"          user_info <- tibble(", "            label = c(\"student_name\", \"student_id\"),", 
"            type = \"identifier\",", "            answer = as.list(c(input$name, input$studentID)),", 
"            timestamp = format(Sys.time(), \"%Y-%m-%d %H:%M:%S %Z\", tz = \"UTC\")", 
"          )", "          learnrhash::encode_obj(dplyr::bind_rows(user_info, user_state))", 
"        }", "      )", "      output$hash_output <- shiny::renderText(encoded_txt())", 
"    },", "    envir = p", "  )", "}", "", "# Progress checker logic", 
"progress_checker_logic <- function() {", "  p <- parent.frame()", 
"  check_server_context(p)", "  local(", "    {", "      progress_info <- shiny::eventReactive(", 
"        input$check_progress,", "        {", "          state <- learnr:::get_tutorial_state()", 
"          ", "          completed_labels <- names(state)", "          completed_required <- REQUIRED_EXERCISES %in% completed_labels", 
"          n_completed <- sum(completed_required)", "          n_total <- length(REQUIRED_EXERCISES)", 
"          pct <- round(100 * n_completed / n_total)", "          ", 
"          missing <- REQUIRED_EXERCISES[!completed_required]", 
"          ", "          list(", "            n_completed = n_completed,", 
"            n_total = n_total,", "            pct = pct,", "            missing = missing", 
"          )", "        }", "      )", "      ", "      output$progress_output <- shiny::renderUI({", 
"        info <- progress_info()", "        ", "        bar_color <- if (info$pct == 100) {", 
"          \"#28a745\"", "        } else if (info$pct >= 75) {", 
"          \"#ffc107\"", "        } else {", "          \"#dc3545\"", 
"        }", "        ", "        shiny::tagList(", "          shiny::tags$div(", 
"            style = \"margin-bottom: 10px; font-weight: bold;\",", 
"            sprintf(\"Progress: %d / %d exercises completed (%d%%)\", ", 
"                    info$n_completed, info$n_total, info$pct)", 
"          ),", "          shiny::tags$div(", "            style = \"background-color: #e9ecef; border-radius: 4px; height: 24px; margin-bottom: 15px;\",", 
"            shiny::tags$div(", "              style = sprintf(", 
"                \"background-color: %s; width: %d%%; height: 100%%; border-radius: 4px; transition: width 0.3s;\",", 
"                bar_color, info$pct", "              )", "            )", 
"          ),", "          if (length(info$missing) > 0) {", 
"            shiny::tags$div(", "              style = \"color: #856404; background-color: #fff3cd; border: 1px solid #ffeeba; padding: 10px; border-radius: 4px;\",", 
"              shiny::tags$strong(\"Missing exercises:\"),", 
"              shiny::tags$ul(", "                lapply(info$missing, function(x) shiny::tags$li(x))", 
"              )", "            )", "          } else {", "            shiny::tags$div(", 
"              style = \"color: #155724; background-color: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 4px;\",", 
"              shiny::tags$strong(\"All required exercises completed! You're ready to generate your hash.\")", 
"            )", "          }", "        )", "      })", "    },", 
"    envir = p", "  )", "}", "", "hash_encoder_ui <- {", "  shiny::div(\"If you have completed this tutorial and are happy with all of your\", \"solutions, please enter your identifying information, then click the button below to generate your hash\", textInput(\"name\", \"What's your name?\"), textInput(\"studentID\", \"What is your student ID?\"), renderText({", 
"    input$caption", "  }), )", "}"), chunk_opts = list(label = "setup", 
    include = FALSE)), setup = NULL, chunks = list(list(label = "emmeans_practice", 
    code = "# Fit the full model\nlearning_model <- lm(test_score ~ teaching_method * class_size, \n                     data = learning_data)\n\n# Check the interaction\nAnova(learning_model, type = 2)\n\n# Strategy 1: Simple effects (if interaction significant)\n# Compare teaching methods within each class size\nemmeans(learning_model, pairwise ~ ___ | ___)\n\n# Strategy 2: Marginal means (if interaction not significant)\n# Get marginal means for teaching method\nemmeans(learning_model, ~ ___)\n\n# Visualize\nemmip(learning_model, teaching_method ~ class_size, CIs = TRUE)", 
    opts = list(label = "\"emmeans_practice\"", exercise = "TRUE", 
        exercise.cap = "\"Post-Hoc with emmeans\""), engine = "r")), 
    code_check = NULL, error_check = NULL, check = NULL, solution = structure(c("# Fit the full model", 
    "learning_model <- lm(test_score ~ teaching_method * class_size, ", 
    "                     data = learning_data)", "", "# Check the interaction", 
    "Anova(learning_model, type = 2)", "", "# Strategy 1: Simple effects", 
    "cat(\"=== Simple Effects Analysis ===\\n\")", "emmeans(learning_model, pairwise ~ teaching_method | class_size)", 
    "", "# Alternative simple effects", "cat(\"\\n=== Alternative: Compare class size within teaching method ===\\n\")", 
    "emmeans(learning_model, pairwise ~ class_size | teaching_method)", 
    "", "# Strategy 2: Marginal means (for comparison)", "cat(\"\\n=== Marginal Means Analysis ===\\n\")", 
    "cat(\"Teaching method (marginal):\\n\")", "emmeans(learning_model, ~ teaching_method)", 
    "", "cat(\"\\nClass size (marginal):\\n\")", "emmeans(learning_model, ~ class_size)", 
    "", "# Visualize", "emmip(learning_model, teaching_method ~ class_size, CIs = TRUE) +", 
    "  labs(title = \"Interaction Plot: Teaching Method × Class Size\")"
    ), chunk_opts = list(label = "emmeans_practice-solution")), 
    tests = NULL, options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "ims-twoway-anova_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "center", fig.path = "ims-twoway-anova_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6, fig.height = 4, fig.env = "figure", fig.cap = NULL, 
        fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 576, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, label = "emmeans_practice", exercise = TRUE, 
        exercise.cap = "Post-Hoc with emmeans", code = c("# Fit the full model", 
        "learning_model <- lm(test_score ~ teaching_method * class_size, ", 
        "                     data = learning_data)", "", "# Check the interaction", 
        "Anova(learning_model, type = 2)", "", "# Strategy 1: Simple effects (if interaction significant)", 
        "# Compare teaching methods within each class size", 
        "emmeans(learning_model, pairwise ~ ___ | ___)", "", 
        "# Strategy 2: Marginal means (if interaction not significant)", 
        "# Get marginal means for teaching method", "emmeans(learning_model, ~ ___)", 
        "", "# Visualize", "emmip(learning_model, teaching_method ~ class_size, CIs = TRUE)"
        ), out.width.px = 576, out.height.px = 384, params.src = "emmeans_practice, exercise=TRUE, exercise.cap=\"Post-Hoc with emmeans\"", 
        fig.num = 0, exercise.df_print = "paged", exercise.checker = "NULL"), 
    engine = "r", version = "4"), class = c("r", "tutorial_exercise"
)))
</script>


<script type="application/shiny-prerendered" data-context="server">
progress_checker_logic()
</script>
 
<script type="application/shiny-prerendered" data-context="server">
encoder_logic()
</script>
</p>
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["header-attrs"]},{"type":"character","attributes":{},"value":["2.30"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pandoc"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["header-attrs.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.30"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/cerulean.min.css"]},{"type":"character","attributes":{},"value":["<style>h1 {font-size: 34px;}\n       h1.title {font-size: 38px;}\n       h2 {font-size: 30px;}\n       h3 {font-size: 24px;}\n       h4 {font-size: 18px;}\n       h5 {font-size: 16px;}\n       h6 {font-size: 12px;}\n       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}\n       pre:not([class]) { background-color: white }<\/style>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.30"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.30"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.30"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.11.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.11.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["i18n"]},{"type":"character","attributes":{},"value":["21.6.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/i18n"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["i18next.min.js","tutorial-i18n-init.js"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["<script id=\"i18n-cstm-trns\" type=\"application/json\">{\"language\":\"en\",\"resources\":{\"en\":{\"translation\":{\"button\":{\"runcode\":\"Run Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Hint\",\"hint_plural\":\"Hints\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Next Hint\",\"hintprev\":\"Previous Hint\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copy to Clipboard\",\"startover\":\"Start Over\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continue\",\"submitanswer\":\"Submit Answer\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Previous Topic\",\"nexttopic\":\"Next Topic\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Try Again\"},\"text\":{\"startover\":\"Start Over\",\"areyousure\":\"Are you sure you want to start over? (all exercise progress will be reset)\",\"youmustcomplete\":\"You must complete the\",\"exercise\":\"exercise\",\"exercise_plural\":\"exercises\",\"inthissection\":\"in this section before continuing.\",\"code\":\"Code\",\"enginecap\":\"{{engine}} $t(text.code)\",\"quiz\":\"Quiz\",\"blank\":\"blank\",\"blank_plural\":\"blanks\",\"exercisecontainsblank\":\"This exercise contains {{count}} $t(text.blank).\",\"pleasereplaceblank\":\"Please replace {{blank}} with valid code.\",\"unparsable\":\"It looks like this might not be valid R code. R cannot determine how to turn your text into a complete command. You may have forgotten to fill in a blank, to remove an underscore, to include a comma between arguments, or to close an opening <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> or <code>{<\\/code> with a matching <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> or <code>}<\\/code>.\\n\",\"unparsablequotes\":\"<p>It looks like your R code contains specially formatted quotation marks or &quot;curly&quot; quotes (<code>{{character}}<\\/code>) around character strings, making your code invalid. R requires character values to be contained in straight quotation marks (<code>&quot;<\\/code> or <code>'<\\/code>).<\\/p> {{code}} <p>Don't worry, this is a common source of errors when you copy code from another app that applies its own formatting to text. You can try replacing the code on that line with the following. There may be other places that need to be fixed, too.<\\/p> {{suggestion}}\\n\",\"unparsableunicode\":\"<p>It looks like your R code contains an unexpected special character (<code>{{character}}<\\/code>) that makes your code invalid.<\\/p> {{code}} <p>Sometimes your code may contain a special character that looks like a regular character, especially if you copy and paste the code from another app. Try deleting the special character from your code and retyping it manually.<\\/p>\\n\",\"unparsableunicodesuggestion\":\"<p>It looks like your R code contains an unexpected special character (<code>{{character}}<\\/code>) that makes your code invalid.<\\/p> {{code}} <p>Sometimes your code may contain a special character that looks like a regular character, especially if you copy and paste the code from another app. You can try replacing the code on that line with the following. There may be other places that need to be fixed, too.<\\/p> {{suggestion}}\\n\",\"and\":\"and\",\"or\":\"or\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"fr\":{\"translation\":{\"button\":{\"runcode\":\"Lancer le Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Indication\",\"hint_plural\":\"Indications\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Indication Suivante\",\"hintprev\":\"Indication Précédente\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copier dans le Presse-papier\",\"startover\":\"Recommencer\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuer\",\"submitanswer\":\"Soumettre\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Chapitre Précédent\",\"nexttopic\":\"Chapitre Suivant\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Réessayer\"},\"text\":{\"startover\":\"Recommencer\",\"areyousure\":\"Êtes-vous certains de vouloir recommencer? (La progression sera remise à zéro)\",\"youmustcomplete\":\"Vous devez d'abord compléter\",\"exercise\":\"l'exercice\",\"exercise_plural\":\"des exercices\",\"inthissection\":\"de cette section avec de continuer.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"et\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"es\":{\"translation\":{\"button\":{\"runcode\":\"Ejecutar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Pista\",\"hint_plural\":\"Pistas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Siguiente pista\",\"hintprev\":\"Pista anterior\",\"solution\":\"Solución\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar al portapapeles\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar respuesta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tema anterior\",\"nexttopic\":\"Tema siguiente\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Volver a intentar\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"¿De verdad quieres empezar de nuevo? (todo el progreso del ejercicio se perderá)\",\"youmustcomplete\":\"Debes completar\",\"exercise\":\"el ejercicio\",\"exercise_plural\":\"los ejercicios\",\"inthissection\":\"en esta sección antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Cuestionario\",\"and\":\"y\",\"or\":\"o\",\"oxfordcomma\":\"\"}}},\"pt\":{\"translation\":{\"button\":{\"runcode\":\"Executar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Dica\",\"hint_plural\":\"Dicas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Próxima dica\",\"hintprev\":\"Dica anterior\",\"solution\":\"Solução\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar para a área de transferência\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar resposta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tópico anterior\",\"nexttopic\":\"Próximo tópico\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tentar novamente\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"Tem certeza que deseja começar novamente? (todo o progresso feito será perdido)\",\"youmustcomplete\":\"Você deve completar\",\"exercise\":\"o exercício\",\"exercise_plural\":\"os exercícios\",\"inthissection\":\"nesta seção antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"e\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"tr\":{\"translation\":{\"button\":{\"runcode\":\"Çalıştırma Kodu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Ipucu\",\"hint_plural\":\"İpuçları\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Sonraki İpucu\",\"hintprev\":\"Önceki İpucu\",\"solution\":\"Çözüm\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Pano'ya Kopyala\",\"startover\":\"Baştan Başlamak\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Devam et\",\"submitanswer\":\"Cevabı onayla\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Önceki Konu\",\"nexttopic\":\"Sonraki Konu\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tekrar Deneyin\"},\"text\":{\"startover\":\"Baştan Başlamak\",\"areyousure\":\"Baştan başlamak istediğinizden emin misiniz? (tüm egzersiz ilerlemesi kaybolacak)\",\"youmustcomplete\":\"Tamamlamalısın\",\"exercise\":\"egzersiz\",\"exercise_plural\":\"egzersizler\",\"inthissection\":\"devam etmeden önce bu bölümde\",\"code\":\"Kod\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Sınav\",\"oxfordcomma\":\"\"}}},\"emo\":{\"translation\":{\"button\":{\"runcode\":\"🏃\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"💡\",\"hint_plural\":\"$t(button.hint)\",\"hinttitle\":\"$t(button.hint)\",\"solution\":\"🎯\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"📋\",\"startover\":\"⏮\",\"startovertitle\":\"Start Over\",\"continue\":\"✅\",\"submitanswer\":\"🆗\",\"submitanswertitle\":\"Submit Answer\",\"previoustopic\":\"⬅\",\"nexttopic\":\"➡\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"🔁\"},\"text\":{\"startover\":\"⏮\",\"areyousure\":\"🤔\",\"youmustcomplete\":\"⚠️ 👉 🧑‍💻\",\"exercise\":\"\",\"exercise_plural\":\"\",\"inthissection\":\"\",\"code\":\"💻\",\"enginecap\":\"$t(text.code) {{engine}}\",\"oxfordcomma\":\"\"}}},\"eu\":{\"translation\":{\"button\":{\"runcode\":\"Kodea egikaritu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Laguntza\",\"hint_plural\":\"Laguntza\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Aurreko laguntza\",\"hintprev\":\"Hurrengo laguntza\",\"solution\":\"Ebazpena\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Arbelean kopiatu\",\"startover\":\"Berrabiarazi\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Jarraitu\",\"submitanswer\":\"Erantzuna bidali\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Aurreko atala\",\"nexttopic\":\"Hurrengo atala\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Berriro saiatu\"},\"text\":{\"startover\":\"Berrabiarazi\",\"areyousure\":\"Berriro hasi nahi duzu? (egindako lana galdu egingo da)\",\"youmustcomplete\":\"Aurrera egin baino lehen atal honetako\",\"exercise\":\"ariketa egin behar duzu.\",\"exercise_plural\":\"ariketak egin behar dituzu.\",\"inthissection\":\"\",\"code\":\"Kodea\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Galdetegia\",\"oxfordcomma\":\"\"}}},\"de\":{\"translation\":{\"button\":{\"runcode\":\"Code ausführen\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Tipp\",\"hint_plural\":\"Tipps\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Nächster Tipp\",\"hintprev\":\"Vorheriger Tipp\",\"solution\":\"Lösung\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"In die Zwischenablage kopieren\",\"startover\":\"Neustart\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Weiter\",\"submitanswer\":\"Antwort einreichen\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Vorheriges Kapitel\",\"nexttopic\":\"Nächstes Kapitel\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Nochmal versuchen\"},\"text\":{\"startover\":\"Neustart\",\"areyousure\":\"Bist du sicher, dass du neustarten willst? (der gesamte Lernfortschritt wird gelöscht)\",\"youmustcomplete\":\"Vervollstädinge\",\"exercise\":\"die Übung\",\"exercise_plural\":\"die Übungen\",\"inthissection\":\"in diesem Kapitel, bevor du fortfährst.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"blank\":\"Lücke\",\"blank_plural\":\"Lücken\",\"pleasereplaceblank\":\"Bitte ersetze {{blank}} mit gültigem Code.\",\"unparsable\":\"Dies scheint kein gültiger R Code zu sein. R kann deinen Text nicht in einen gültigen Befehl übersetzen. Du hast vielleicht vergessen, die Lücke zu füllen, einen Unterstrich zu entfernen, ein Komma zwischen Argumente zu setzen oder ein eröffnendes <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> oder <code>{<\\/code> mit einem zugehörigen <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> oder <code>}<\\/code> zu schließen.\\n\",\"and\":\"und\",\"or\":\"oder\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"ko\":{\"translation\":{\"button\":{\"runcode\":\"코드 실행\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"힌트\",\"hint_plural\":\"힌트들\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"다음 힌트\",\"hintprev\":\"이전 힌트\",\"solution\":\"솔루션\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"클립보드에 복사\",\"startover\":\"재학습\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"다음 학습으로\",\"submitanswer\":\"정답 제출\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"이전 토픽\",\"nexttopic\":\"다음 토픽\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"재시도\"},\"text\":{\"startover\":\"재학습\",\"areyousure\":\"다시 시작 하시겠습니까? (모든 예제의 진행 정보가 재설정됩니다)\",\"youmustcomplete\":\"당신은 완료해야 합니다\",\"exercise\":\"연습문제\",\"exercise_plural\":\"연습문제들\",\"inthissection\":\"이 섹션을 실행하기 전에\",\"code\":\"코드\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"퀴즈\",\"blank\":\"공백\",\"blank_plural\":\"공백들\",\"exercisecontainsblank\":\"이 연습문제에는 {{count}}개의 $t(text.blank)이 포함되어 있습니다.\",\"pleasereplaceblank\":\"{{blank}}를 유효한 코드로 바꾸십시오.\",\"unparsable\":\"이것은 유효한 R 코드가 아닐 수 있습니다. R은 텍스트를 완전한 명령으로 변환하는 방법을 결정할 수 없습니다. 당신은 공백이나 밑줄을 대체하여 채우기, 인수를 컴마로 구분하기, 또는 <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> , <code>{<\\/code>로 시작하는 구문을 닫는 <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code>, <code>}<\\/code>을 잊었을 수도 있습니다.\\n\",\"and\":\"그리고\",\"or\":\"혹은\",\"listcomma\":\", \",\"oxfordcomma\":\"\"}}},\"zh\":{\"translation\":{\"button\":{\"runcode\":\"运行代码\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"提示\",\"hint_plural\":\"提示\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"下一个提示\",\"hintprev\":\"上一个提示\",\"solution\":\"答案\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"复制到剪切板\",\"startover\":\"重新开始\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"继续\",\"submitanswer\":\"提交答案\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"上一专题\",\"nexttopic\":\"下一专题\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"再试一次\"},\"text\":{\"startover\":\"重置\",\"areyousure\":\"你确定要重新开始吗? (所有当前进度将被重置)\",\"youmustcomplete\":\"你必须完成\",\"exercise\":\"练习\",\"exercise_plural\":\"练习\",\"inthissection\":\"在进行本节之前\",\"code\":\"代码\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"测试\",\"blank\":\"空\",\"blank_plural\":\"空\",\"exercisecontainsblank\":\"本练习包含{{count}}个$t(text.blank)\",\"pleasereplaceblank\":\"请在{{blank}}内填写恰当的代码\",\"unparsable\":\"这似乎不是有效的R代码。 R不知道如何将您的文本转换为完整的命令。 您是否忘了填空，忘了删除下划线，忘了在参数之间包含逗号，或者是忘了用<code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code>,<code>}<\\/code>来封闭<code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code>。 or <code>{<\\/code>。\\n\",\"unparsablequotes\":\"<p>您的R代码中似乎含有特殊格式的引号，或者弯引号(<code>{{character}}<\\/code>) 在字符串前后，在R中字符串应该被直引号(<code>&quot;<\\/code> 或者 <code>'<\\/code>)包裹。<\\/p> {{code}} <p>别担心，该错误经常在复制粘贴包含格式的代码时遇到， 您可以尝试将该行中的代码替换为以下代码，也许还有其他地方需要修改。<\\/p> {{suggestion}}\\n\",\"unparsableunicode\":\"<p>您的代码中似乎包含有异常字符(<code>{{character}}<\\/code>),导致代码无效。<\\/p> {{code}} <p>有时候你的代码可能含有看似正常字符的特殊字符，特别是当你复制粘贴其他来源代码的时候。 请试着删除这些特殊字符,重新输入<\\/p>\\n\",\"unparsableunicodesuggestion\":\"<p>您的代码中似乎包含有异常字符(<code>{{character}}<\\/code>),导致代码无效。<\\/p> {{code}} <p>有时候你的代码可能含有看似正常字符的特殊字符，特别是当你复制粘贴其他来源代码的时候。 请试着删除这些特殊字符,重新输入<\\/p>\\n\",\"and\":\"且\",\"or\":\"或\",\"listcomma\":\",\",\"oxfordcomma\":\",\"}}},\"pl\":{\"translation\":{\"button\":{\"runcode\":\"Uruchom kod\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Podpowiedź\",\"hint_plural\":\"Podpowiedzi\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Następna podpowiedź\",\"hintprev\":\"Poprzednia podpowiedź\",\"solution\":\"Rozwiązanie\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Kopiuj do schowka\",\"startover\":\"Zacznij od początku\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Kontynuuj\",\"submitanswer\":\"Wyślij\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Poprzednia sekcja\",\"nexttopic\":\"Następna sekcja\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Spróbuj ponownie\"},\"text\":{\"startover\":\"Zacznij od początku\",\"areyousure\":\"Czy na pewno chcesz zacząć od początku? (cały postęp w zadaniu zostanie utracony)\",\"youmustcomplete\":\"Musisz ukończyć\",\"exercise\":\"ćwiczenie\",\"exercise_plural\":\"ćwiczenia\",\"inthissection\":\"w tej sekcji przed kontynuowaniem\",\"code\":\"Kod\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"blank\":\"luka\",\"blank_plural\":\"luk(i)\",\"exercisecontainsblank\":\"To ćwiczenie zawiera {{count}} $t(text.blank).\",\"pleasereplaceblank\":\"Proszę uzupełnić {{blank}} prawidłowym kodem.\",\"unparsable\":\"Wygląda na to, że może to nie być prawidłowy kod R. R nie jest w stanie przetworzyć Twojego tekstu na polecenie. Mogłeś(-aś) zapomnieć wypełnić luki, usunąć podkreślnik, umieścić przecinka między argumentami, lub zamknąć znak <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> lub <code>{<\\/code> odpowiadającym <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> lub <code>}<\\/code>.\\n\",\"unparsablequotes\":\"<p>Wygląda na to, że Twój kod zawiera szczególnie sformatowane cudzysłowy lub cudzysłowy typograficzne (<code>{{character}}<\\/code>) przy ciągach znaków, co sprawia, że kod jest niepoprawny. R wymaga cudzysłowów prostych (<code>&quot;<\\/code> albo <code>'<\\/code>).<\\/p> {{code}} <p>Nie martw się, to powszechne źródło błędów, gdy kopiuje się kod z innego programu, który sam formatuje teskt. Możesz spróbować zastąpić swój kod następującym kodem. Mogą być też inne miejsca, które wymagają poprawienia.<\\/p> {{suggestion}}\\n\",\"unparsableunicode\":\"<p>Wygląda na to, że Twój kod zawiera niespodziewany znak specjalny (<code>{{character}}<\\/code>), co sprawia, że kod jest niepoprawny.<\\/p> {{code}} <p>Czasami Twój kod może zawierać znak specjalny, który wygląda jak zwykły znak, zwłaszcza jeśli kopiujesz kod z innego programu. Spróbuj usunąć znak specjalny i wpisać do ponownie ręcznie.<\\/p>\\n\",\"unparsableunicodesuggestion\":\"<p>Wygląda na to, że Twój kod zawiera niespodziewany znak specjalny (<code>{{character}}<\\/code>), co sprawia, że kod jest niepoprawny.<\\/p> {{code}} <p>Czasami Twój kod może zawierać znak specjalny, który wygląda jak zwykły znak, zwłaszcza jeśli kopiujesz kod z innego programu. Możesz spróbować zastąpić swój kod następującym kodem. Mogą być też inne miejsca, które wymagają poprawienia.<\\/p> {{suggestion}}\\n\",\"and\":\"i\",\"or\":\"lub\",\"listcomma\":\", \",\"oxfordcomma\":\"\"}}}}}<\/script>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.11.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.11.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css","rstudio-theme.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.11.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.30"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.30"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["6.5.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.min.css","css/v4-shims.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fontawesome"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["5.5.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.11.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.11.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.11.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.11.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.11.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.11.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.11.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.11.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.11.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.11.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.11.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["2.0.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.11.5"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103]}},"value":[{"type":"character","attributes":{},"value":["abind","backports","base","boot","broom","bslib","cachem","car","carData","checkmate","cli","coda","codetools","colorspace","commonmark","compiler","datasets","DBI","digest","dplyr","effects","ellipsis","emmeans","estimability","evaluate","farver","fastmap","fontawesome","Formula","generics","ggfortify","ggplot2","glue","graphics","grDevices","grid","gridExtra","gtable","htmltools","htmlwidgets","httpuv","insight","jquerylib","jsonlite","knitr","labeling","later","lattice","learnr","learnrhash","lifecycle","litedown","lme4","magrittr","markdown","MASS","Matrix","methods","mime","minqa","mitools","multcomp","mvtnorm","nlme","nloptr","nnet","pillar","pkgconfig","promises","purrr","R6","rbibutils","RColorBrewer","Rcpp","Rdpack","reformulas","rlang","rmarkdown","rprojroot","rstudioapi","S7","sandwich","sass","scales","shiny","splines","stats","stringi","stringr","survey","survival","TH.data","tibble","tidyr","tidyselect","tools","utils","vctrs","withr","xfun","xtable","yaml","zoo"]},{"type":"character","attributes":{},"value":["1.4-8","1.5.0","4.5.1","1.3-31","1.0.9","0.9.0","1.1.0","3.1-3","3.0-5","2.3.3","3.6.5","0.19-4.1","0.2-20","2.1-1","2.0.0","4.5.1","4.5.1","1.2.3","0.6.37","1.1.4","4.2-4","0.3.2","1.11.2","1.5.1","1.0.5","2.1.2","1.2.0","0.5.3","1.2-5","0.1.4","0.4.19","4.0.0","1.8.0","4.5.1","4.5.1","4.5.1","2.3","0.3.6","0.5.8.1","1.6.4","1.6.16","1.4.2","0.1.4","2.0.0","1.50","0.4.3","1.4.2","0.22-7","0.11.5","0.2.0","1.0.4","0.7","1.1-37","2.0.3","2.0","7.3-65","1.7-3","4.5.1","0.13","1.2.8","2.4","1.4-28","1.3-3","3.1-168","2.2.1","7.3-20","1.11.1","2.0.3","1.3.3","1.1.0","2.6.1","2.3","1.1-3","1.1.0","2.6.4","0.4.1","1.1.6","2.30","2.1.1","0.17.1","0.2.0","3.1-1","0.4.10","1.4.0","1.11.1","4.5.1","4.5.1","1.8.7","1.5.2","4.4-2","3.8-3","1.1-4","3.3.0","1.3.1","1.2.1","4.5.1","4.5.1","0.6.5","3.0.2","0.52","1.8-4","2.3.10","1.8-14"]}]}]}
</script>
<!--/html_preserve-->
</div>

</article> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h1 class="title toc-ignore" style="display:none;">Week 13: Two-Way and
Factorial ANOVA</h1>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</main> <!-- bandContent page -->
</div> <!-- pageContent band -->



<!-- Build Tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
